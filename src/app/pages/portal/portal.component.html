<app-side-search *ngIf="hasSideSearch"></app-side-search>

<mat-sidenav-container>
  <mat-sidenav-content position="end">

    <igo-menu-button *ngIf="showMenuButton"
      [sidenavOpened]="sidenavOpened"
      (openSidenav)="onToggleSidenavClick()">
    </igo-menu-button>

    <igo-search-bar *ngIf="showSearchBar"
        #searchBar
        [term]="searchBarTerm"
        [termSplitter]="termSplitter"
        [minLength]="minSearchTermLength"
        [searchSettings]="true"
        [forceNA]="forceCoordsNA"
        [store]="searchStore"
        (searchTermChange)="onSearchTermChange($event)"
        [pointerSummaryEnabled]="igoSearchPointerSummaryEnabled"
        (pointerSummaryStatus)="onPointerSummaryStatusChange($event)"
        [searchResultsGeometryEnabled]="searchResultsGeometryEnabled"
        (searchResultsGeometryStatus)="onSearchResultsGeometryStatusChange($event)"
        (search)="onSearch($event)"
        (clearFeature)="onClearSearch()"
        (searchSettingsChange)="onSearchSettingsChange()">
    </igo-search-bar>

    <app-side-search
      [map]="map"
      [(opened)]="sidenavOpened">
    </app-side-search>


  </mat-sidenav-content>

  
</mat-sidenav-container>

<igo-map-browser
  igoHoverFeature
  [igoHoverFeatureDelay]="250"
  [igoHoverFeatureEnabled]="true"
  #mapBrowser
  igoMapContext
  igoLayerContext
  igoDropGeoFile
  [map]="map"
  [ngClass]="{'igo-attribution-offset': map.getBaseLayers().length > 1}">

  <igo-zoom-button [map]="map" color="primary">
  </igo-zoom-button>
  <igo-rotation-button [showIfNoRotation]="showRotationButtonIfNoRotation" [map]="map" color="primary"></igo-rotation-button>
</igo-map-browser>


