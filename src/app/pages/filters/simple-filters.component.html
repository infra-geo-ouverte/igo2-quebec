<div class="filters-header">
  <span class="filters-title">{{ 'simpleFilters.filtersTitle' | translate }}</span>
</div>

<div class="filters-container">
  <div class="filters">
    <form [formGroup]="filtersFormGroup">
      <div *ngFor="let control of controls | keyvalue"
        class="filter">
        <span class="filter-description">{{ getLabel(control.key) }}</span>
        <mat-form-field
          class="filter-field"
          appearance="outline"
          floatLabel="auto">
          <mat-label>{{ getLabel(control.key) }}</mat-label>
          <input
            matInput
            type="text"
            [formControlName]="control.key"
            [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayName" (optionSelected)="onSelection($event)">
            <mat-option *ngFor="let option of getOptions(control.key)" [value]="option">
              {{ option.nom }}
            </mat-option>
          </mat-autocomplete>
          <mat-icon *ngIf="getOptions(control.key)"
            matSuffix
            color="primary"
            [svgIcon]="auto.isOpen ? 'chevron-up' : 'chevron-down'">
          </mat-icon>
        </mat-form-field>
      </div>
    </form>
  </div>

  <div class="filters-buttons">
    <button
      [ngClass]="areButtonsDisabled() ? 'filters-buttons-disabled filter-button-disabled' : 'filters-buttons-abled filter-button-abled'"
      [disabled]="areButtonsDisabled()"
      [matTooltip]="'simpleFilters.submit' | translate"
      tooltip-position="below"
      matTooltipShowDelay="500"
      (click)="onFilter()">{{ 'simpleFilters.submit' | translate }}
    </button>
    <button
      [ngClass]="areButtonsDisabled() ? 'filters-buttons-disabled reset-button-disabled' : 'filters-buttons-abled reset-button-abled'"
      [disabled]="areButtonsDisabled()"
      [matTooltip]="'simpleFilters.resetFilters' | translate"
      tooltip-position="below"
      matTooltipShowDelay="500"
      (click)="onResetFilters()">{{ 'simpleFilters.resetFilters' | translate }}
    </button>
  </div>
</div>
<br>