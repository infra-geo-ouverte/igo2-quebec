(self.webpackChunkigo2_quebec=self.webpackChunkigo2_quebec||[]).push([[179],{23226:(Z,ue,c)=>{"use strict";var y=c(50318),e=c(3184),C=c(17643),P=c(57481),g=c(36362),p=c(39146),de=c(19946);class K{constructor(){}}K.\u0275fac=function(t){return new(t||K)},K.\u0275cmp=e.Xpm({type:K,selectors:[["app-menu-home"]],decls:14,vars:0,consts:[[1,"page"],[1,"row"],[1,"d-block","themeTitre"],[2,"display","inline"],["href","https://github.com/infra-geo-ouverte/igo2","target","_blank","rel","noreferrer",2,"display","inline"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Accueil"),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Infrastructure g\xe9omatique ouverte 2.0 (IGO2) / Open GIS Infrastructure 2.0"),e.qZA(),e.TgZ(6,"h4"),e._uU(7,"Qu'est-ce qu'IGO?"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"IGO2 est une solution Web gratuite en g\xe9omatique bas\xe9e sur Angular - Material, OpenLayers et IGO2lib. IGO2 permet de tirer profit d\u2019une multitude de donn\xe9es g\xe9ographiques gr\xe2ce \xe0 une interface cartographique accessible par un navigateur Web sur un poste de travail et par un appareil mobile. IGO2 a \xe9t\xe9 initi\xe9 par l'administration publique du Qu\xe9bec (Canada) et issu d\u2019un travail collaboratif bas\xe9 sur la philosophie des logiciels libres et ouverts (\xab open source \xbb). Les membres du public en g\xe9omatique et du Web qui soumettent des contributions conservent leurs droits d'auteur s'ils partagent leur code source selon la LICENCE LiLiQ-R de type LGPL."),e.qZA(),e.TgZ(10,"p",3),e._uU(11,"T\xe9l\xe9chargement et code source : "),e.TgZ(12,"a",4),e._uU(13,"https://github.com/infra-geo-ouverte/igo2"),e.qZA()()()())},encapsulation:2});class ee{constructor(){}}ee.\u0275fac=function(t){return new(t||ee)},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-about"]],decls:82,vars:0,consts:[[1,"row"],[1,"container-fluid","page"],[1,"d-block","themeTitre"],["href","http://loripsum.net/","target","_blank"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"En savoir plus"),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Notre Mission"),e.qZA(),e.TgZ(6,"h3"),e._uU(7,"Mission 1"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Paragraphe : Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tu enim ista lenius, hic Stoicorum more nos vexat. Quo studio Aristophanem putamus aetatem in litteris duxisse? Honesta oratio, Socratica, Platonis etiam. Vitiosum est enim in dividendo partem in genere numerare. "),e.TgZ(10,"i"),e._uU(11,"Non est igitur voluptas bonum."),e.qZA(),e._uU(12," Duo Reges: constructio interrete. Non autem hoc: igitur ne illud quidem. "),e.TgZ(13,"b"),e._uU(14,"Magna laus."),e.qZA(),e.TgZ(15,"b"),e._uU(16,"Quis istum dolorem timet?"),e.qZA(),e._uU(17," Quod autem satis est, eo quicquid accessit, nimium est; "),e.TgZ(18,"b"),e._uU(19,"Sed ille, ut dixi, vitiose."),e.qZA()(),e.TgZ(20,"p"),e._uU(21,"Cur tantas regiones barbarorum pedibus obiit, tot maria transmisit? "),e.TgZ(22,"a",3),e._uU(23,"Nulla erit controversia."),e.qZA(),e._uU(24," Prave, nequiter, turpiter cenabat; "),e.TgZ(25,"code"),e._uU(26,"Multoque hoc melius nos veriusque quam Stoici."),e.qZA(),e._uU(27," Contineo me ab exemplis. "),e.TgZ(28,"b"),e._uU(29,"Sed nimis multa."),e.qZA(),e.TgZ(30,"code"),e._uU(31,"Nos vero, inquit ille;"),e.qZA(),e.TgZ(32,"mark"),e._uU(33,"Occultum facinus esse potuerit, gaudebit;"),e.qZA()(),e.TgZ(34,"ul")(35,"li"),e._uU(36,"Iam doloris medicamenta illa Epicurea tamquam de narthecio proment: Si gravis, brevis;"),e.qZA(),e.TgZ(37,"li"),e._uU(38,"Ergo et avarus erit, sed finite, et adulter, verum habebit modum, et luxuriosus eodem modo."),e.qZA(),e.TgZ(39,"li"),e._uU(40,"Sedulo, inquam, faciam."),e.qZA(),e.TgZ(41,"li"),e._uU(42,"Quid enim tanto opus est instrumento in optimis artibus comparandis?"),e.qZA(),e.TgZ(43,"li"),e._uU(44,"Sic, et quidem diligentius saepiusque ista loquemur inter nos agemusque communiter."),e.qZA()(),e.TgZ(45,"p")(46,"b"),e._uU(47," Bold Inde igitur, inquit, ordiendum est."),e.qZA(),e._uU(48," Quis hoc dicit? Quamquam te quidem video minime esse deterritum. "),e.TgZ(49,"i"),e._uU(50,"Bonum incolumis acies: misera caecitas."),e.qZA(),e._uU(51," Indicant pueri, in quibus ut in speculis natura cernitur. Duae sunt enim res quoque, ne tu verba solum putes. "),e.TgZ(52,"code"),e._uU(53,"Est enim effectrix multarum et magnarum voluptatum."),e.qZA()(),e.TgZ(54,"pre"),e._uU(55," Pre Corporis igitur nostri partes totaque figura et forma et\n        statura quam apta ad naturam sit, apparet, neque est dubium,\n        quin frons, oculi, aures et reliquae partes quales propriae\n        sint hominis intellegatur.\n\n        Pungunt quasi aculeis interrogatiunculis angustis, quibus\n        etiam qui assentiuntur nihil commutantur animo et idem\n        abeunt, qui venerant.\n        "),e.qZA(),e.TgZ(56,"ol")(57,"li"),e._uU(58,"Atqui perspicuum est hominem e corpore animoque constare, cum primae sint animi partes, secundae corporis."),e.qZA(),e.TgZ(59,"li"),e._uU(60,"Nonne videmus quanta perturbatio rerum omnium consequatur, quanta confusio?"),e.qZA()(),e.TgZ(61,"dl")(62,"dt")(63,"dfn"),e._uU(64,"Stoicos roga."),e.qZA()(),e.TgZ(65,"dd"),e._uU(66,"Quid enim de amicitia statueris utilitatis causa expetenda vides."),e.qZA(),e.TgZ(67,"dt")(68,"dfn"),e._uU(69,"Qui convenit?"),e.qZA()(),e.TgZ(70,"dd"),e._uU(71,"Que Manilium, ab iisque M."),e.qZA(),e.TgZ(72,"dt")(73,"dfn"),e._uU(74,"Paria sunt igitur."),e.qZA()(),e.TgZ(75,"dd"),e._uU(76,"Quamquam ab iis philosophiam et omnes ingenuas disciplinas habemus;"),e.qZA(),e.TgZ(77,"dt")(78,"dfn"),e._uU(79,"Confecta res esset."),e.qZA()(),e.TgZ(80,"dd"),e._uU(81,"Cupiditates non Epicuri divisione finiebat, sed sua satietate."),e.qZA()()()())},encapsulation:2});var S=c(76317),te=c(26562),me=c(2762),ke=c(19337),Fe=c(98977),U=c(71989),Be=c(63853),xe=c(46441),I=c(64055),_e=c(59295),he=c(80155),oe=c(57647),ye=c(28784),Ce=c(92845),we=c(39910),ge=c(91419),u=c(51027),r=c(61813),Ee=c(28653),je=c(60116),Ze=c(14390),Oe=c(29744),Pe=function(a,t,o,n){return new(o||(o=Promise))(function(s,l){function d(b){try{f(n.next(b))}catch(w){l(w)}}function m(b){try{f(n.throw(b))}catch(w){l(w)}}function f(b){b.done?s(b.value):function i(s){return s instanceof o?s:new o(function(l){l(s)})}(b.value).then(d,m)}f((n=n.apply(a,t||[])).next())})};class M{constructor(t,o,n,i,s){this.platform=t,this.updates=o,this.languageService=n,this.configService=i,this.confirmDialogService=s,o.isEnabled&&(0,Ee.F)(12e4).subscribe(()=>o.checkForUpdate())}modalUpdatePWA(){const n=`${this.languageService.translate.instant("pwa.new-version-title")} ${this.languageService.translate.instant("pwa.new-version")}`;this.confirmDialogService.open(n).subscribe(i=>{i&&this.updates.activateUpdate().then(()=>{window.navigator.onLine?document.location.reload():(alert("Hors-ligne / Offline. Vous devez \xeatre en ligne pour mettre \xe0 jour l'application. You must be online to update the application."),setTimeout(()=>{this.modalUpdatePWA()},9e5))})})}checkForUpdates(){this.updates.isEnabled&&this.updates.versionUpdates.pipe((0,je.h)(t=>"VERSION_DETECTED"===t.type)).subscribe(()=>{this.modalUpdatePWA()})}initPwaPrompt(){return Pe(this,void 0,void 0,function*(){this.configService.getConfig("app")&&this.configService.getConfig("app.pwa")&&this.configService.getConfig("app.pwa.enabled")&&this.configService.getConfig("app.pwa.promote")&&(this.platform.IOS||window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.listenToUserAction()},{once:!0}))})}listenToUserAction(){window.addEventListener("click",()=>{this.showPrompt()},{once:!0})}showPrompt(){return Pe(this,void 0,void 0,function*(){this.promptEvent.prompt();yield this.promptEvent.userChoice;this.promptEvent=void 0})}}M.\u0275fac=function(t){return new(t||M)(e.LFG(Ze.t4),e.LFG(Oe.yO),e.LFG(p.TS),e.LFG(p.E4),e.LFG(u.DN))},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"});var h=c(31631);var v=c(78172),Ue=c(85662),O=c(79944),T=c(40089),R=c(32600),z=c(87514);class ne{constructor(t){this.languageService=t}}ne.\u0275fac=function(t){return new(t||ne)(e.Y36(p.TS))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-footer"]],decls:22,vars:18,consts:[["id","footer-id",1,"footer-right"],["id","scaleLine"],[1,"order2"],[1,"footer-text"],["rel","noopener noreferrer","alt","('externallinks' | translate)","target","_blank",3,"href"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3)(4,"a",4),e.ALo(5,"translate"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"span",3),e._uU(9," | "),e.qZA(),e.TgZ(10,"span",3)(11,"a",4),e.ALo(12,"translate"),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"span",3),e._uU(16," | "),e.qZA(),e.TgZ(17,"span",3)(18,"a",4),e.ALo(19,"translate"),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()),2&t&&(e.xp6(4),e.s9C("href",e.lcZ(5,6,"footer.url-conditions"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(7,8,"footer.conditions")),e.xp6(5),e.s9C("href",e.lcZ(12,10,"footer.url-ministry"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(14,12,"footer.ministry")),e.xp6(5),e.s9C("href",e.lcZ(19,14,"footer.url-gov"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(21,16,"footer.gov")))},dependencies:[z.X$],styles:[".order2[_ngcontent-%COMP%]{order:2;margin-right:.5%;display:flex;justify-content:flex-end;right:0;margin-left:140px;text-align:right!important;width:100%}.footer-right[_ngcontent-%COMP%]{z-index:666;background:rgba(255,255,255,.6392156863);font-size:.7rem;align-items:center;height:29px;display:flex;margin-left:auto}span.footer-text[_ngcontent-%COMP%]{color:#095797;align-self:center;margin-left:.5rem}span.footer-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#095797;text-decoration:none}  .map-hasFooter{height:calc(100% - 29px)!important}  .ol-scale-line-inner{border:1px solid black;color:#000;border-top:none;order:1}  div.ol-scale-line{position:fixed!important;display:flex;flex-direction:row;top:auto!important;top:initial!important;left:10px!important;bottom:3px!important;background:transparent none repeat 0 0 / auto auto padding-box border-box scroll!important;background:initial!important;color:#000;z-index:5!important;transform:none!important;transform:initial!important}"]});var k=c(87317),F=c(65590);class D{constructor(t){this.dialog=t,this.dialogRef=null}toggleDialog(){this.dialog.getDialogById("legend-button-dialog-container")?this.dialogRef.close():this.dialogRef=this.dialog.open(G,{id:"legend-button-dialog-container",hasBackdrop:!1,closeOnNavigation:!0})}}D.\u0275fac=function(t){return new(t||D)(e.Y36(O.uw))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-legend-button"]],decls:2,vars:0,consts:[["mat-raised-button","","qcca-buttons","","color","basic","mat-button","",1,"igo-legend-button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.toggleDialog()}),e._uU(1,"L\xe9gende"),e.qZA())},dependencies:[k.lW],styles:['app-legend-button[_ngcontent-%COMP%],   .mat-raised-button{font-size:.9rem!important;font-weight:500!important;margin:0;min-width:8px;border:0px;border-radius:0!important}  .qcca-theme app-legend-button button,   .qcca-theme .mat-raised-button{color:#095797!important;border-color:#095797!important}  #legend-button-dialog-container{width:-moz-fit-content!important;width:fit-content!important;z-index:10;position:fixed;right:.5%;max-width:99%!important;padding:16px!important;max-height:calc(100% - 201px)!important;overflow:hidden;display:flex;flex-direction:column;height:100%}  #legend-button-dialog-container igo-layer-legend-list{max-height:inherit}  #legend-button-dialog-container igo-layer-legend-list .layer-legend-list-container{overflow-y:auto;height:inherit;max-height:inherit}  #legend-button-dialog-container igo-layer-legend-item{flex-wrap:wrap;width:-moz-min-content;width:min-content;display:flex;flex-direction:column;margin-bottom:16px}  #legend-button-dialog-container igo-layer-legend-item:last-child{margin-bottom:0}  #legend-button-dialog-container .igo-layer-legend-container{padding-left:0!important;width:-moz-max-content!important;width:max-content!important}@media (min-width: 768px){  #legend-button-dialog-container{max-height:calc(100% - 281px)!important}}  app-legend-button-dialog{max-height:calc(100% - 24px)!important;height:inherit}  app-legend-button-dialog .mat-list-base .mat-list-item .mat-list-item-content{padding:0!important}  app-legend-button-dialog .mat-dialog-title{margin:0;display:block}  app-legend-button-dialog .mat-dialog-title:after{content:"";display:block;width:2.8rem;border-bottom:4px solid #f09686;margin-bottom:.8rem}  app-legend-button-dialog .mat-list-item:after{content:"";display:block;width:1.8rem;border-bottom:3px solid #DAE6F0;margin-bottom:.4rem;padding-top:2px}  app-legend-button-dialog .igo-layer-list-item{height:-moz-fit-content!important;height:fit-content!important}  app-legend-button-dialog .mat-icon,   app-legend-button-dialog mat-button-wrapper,   app-legend-button-dialog .mat-icon-button .mat-icon,   app-legend-button-dialog .mat-icon-button{line-height:26px;height:24px;width:24px}  app-legend-button-dialog .mat-icon svg{height:20px;width:20px}  app-legend-button-dialog div.mat-dialog-content.legend>img{max-height:100%;max-width:100%}  app-legend-button-dialog div.mat-dialog-actions{float:right;padding:0;min-height:auto}']});class G{constructor(t){this.mapState=t}get map(){return this.mapState.map}get layers$(){return this.map.layers$}ngOnInit(){this.mapLayersShownInLegend=this.map.layers.filter(t=>!1!==t.showInLayerList)}}G.\u0275fac=function(t){return new(t||G)(e.Y36(v.U5))},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-legend-button-dialog"]],decls:6,vars:5,consts:[["mat-dialog-actions",""],["mat-button","","mat-icon-button","","mat-dialog-close","",1,"close"],["svgIcon","close"],["mat-dialog-title",""],[3,"layers","excludeBaseLayers","allowShowAllLegends","updateLegendOnResolutionChange","showAllLegendsValue"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"mat-icon",2),e.qZA()(),e.TgZ(3,"h4",3),e._uU(4,"L\xe9gende"),e.qZA(),e._UZ(5,"igo-layer-legend-list",4)),2&t&&(e.xp6(5),e.Q6J("layers",o.mapLayersShownInLegend)("excludeBaseLayers",!0)("allowShowAllLegends",!1)("updateLegendOnResolutionChange",!0)("showAllLegendsValue",!1))},dependencies:[F.Hw,O.ZT,O.uh,O.H8,r.exk,k.lW],encapsulation:2});var q=c(7216);const Me=function(a){return{width:a}};function Ie(a,t){if(1&a&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&a){const o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",o.imgSrc,e.LSH)("alt",o.alt)("ngStyle",e.VKq(3,Me,o.imgSize))}}function ze(a,t){if(1&a&&(e.TgZ(0,"a",4),e._uU(1),e.YNc(2,Ie,2,5,"ng-container",5),e.qZA()),2&a){const o=e.oxw().$implicit;e.Q6J("href",o.link,e.LSH),e.xp6(1),e.hij(" ",o.text," "),e.xp6(1),e.Q6J("ngIf",o.imgSrc)}}function De(a,t){if(1&a&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&a){const o=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",o.imgSrc,e.LSH)("alt",o.alt)("ngStyle",e.VKq(3,Me,o.imgSize))}}function Ge(a,t){if(1&a&&(e._uU(0),e.YNc(1,De,2,5,"ng-container",5)),2&a){const o=e.oxw().$implicit;e.hij(" ",o.text," "),e.xp6(1),e.Q6J("ngIf",o.imgSrc)}}function qe(a,t){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,ze,3,3,"a",2),e.YNc(3,Ge,2,2,"ng-template",null,3,e.W1O),e.qZA(),e.BQk()),2&a){const o=t.$implicit,n=e.MAs(4);e.xp6(1),e.Udp("position",o.fixed?"fixed":"absolute")("margin-left",o.marginLeft)("margin-right",o.marginRight)("margin-top",o.marginTop)("margin-bottom",o.marginBottom)("font-size",o.fontSize),e.Q6J("ngClass",o.cssClass),e.xp6(1),e.Q6J("ngIf",o.link)("ngIfElse",n)}}class ie{constructor(t,o,n){this.contextService=t,this.mediaService=o,this.configService=n,this.mapOverlay=[]}ngAfterViewInit(){this.context$$=this.contextService.context$.subscribe(t=>{this.handleContextChange(t),this.context=t}),this.media$$=this.mediaService.media$.subscribe(t=>this.handleContextChange(this.context))}ngOnDestroy(){this.context$$.unsubscribe(),this.media$$.unsubscribe()}handleContextChange(t){let o=[];if(void 0!==t){this.mapOverlay=[],t.mapOverlay?o=t.mapOverlay:this.configService.getConfig("mapOverlay")&&(o=this.configService.getConfig("mapOverlay"));for(const n of o)(!n.media&&"desktop"===this.mediaService.getMedia()||n.media&&n.media.includes(this.mediaService.getMedia()))&&this.mapOverlay.push(n)}}}ie.\u0275fac=function(t){return new(t||ie)(e.Y36(R.Ob),e.Y36(p.yJ),e.Y36(p.E4))},ie.\u0275cmp=e.Xpm({type:ie,selectors:[["app-map-overlay"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mapOverlayDefault",3,"ngClass"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["templateNoLink",""],["target","_blank",3,"href"],[4,"ngIf"],[3,"src","alt","ngStyle"]],template:function(t,o){1&t&&e.YNc(0,qe,5,15,"ng-container",0),2&t&&e.Q6J("ngForOf",o.mapOverlay)},dependencies:[g.mk,g.sg,g.O5,g.PC],styles:["[_nghost-%COMP%]{height:100%;top:0;left:0;right:0;position:fixed;pointer-events:none}.mapOverlayDefault[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;pointer-events:auto}.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0}.top-right[_ngcontent-%COMP%]{top:0;right:0}.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.top-left[_ngcontent-%COMP%]{top:0;left:0}.bottom-center[_ngcontent-%COMP%]{bottom:0;left:50%;transform:translate(-50%)}.top-center[_ngcontent-%COMP%]{top:0;left:50%;transform:translate(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:0}.center-left[_ngcontent-%COMP%]{top:50%;left:0}"]});var Te=c(50635),Qe=c(6788),He=c(83733),Ye=c(67981);function Ve(a,t){1&a&&(e.TgZ(0,"div",2)(1,"section",3)(2,"h5")(3,"strong"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"h6")(7,"strong"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e._UZ(10,"div",4),e.ALo(11,"sanitizeHtml"),e.ALo(12,"translate"),e.qZA()()),2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,3,"igo.integration.searchResultsTool.noResults")),e.xp6(4),e.Oqu(e.lcZ(9,5,"igo.integration.searchResultsTool.doSearch")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(11,7,e.lcZ(12,9,"igo.integration.searchResultsTool.examples")),e.oJD))}function Xe(a,t){if(1&a&&e._UZ(0,"igo-search-add-button",10),2&a){const o=t.result,n=e.oxw(2);e.Q6J("map",n.map)("layer",o)}}function We(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"igo-flexible",5,6),e.ALo(2,"async"),e.TgZ(3,"div",7)(4,"igo-search-results",8),e.NdJ("resultFocus",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onResultFocus(i))})("resultSelect",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onResultSelect(i))})("resultUnfocus",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onResultUnfocus(i))})("resultMouseenter",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onResultFocus(i))})("resultMouseleave",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onResultUnfocus(i))})("moreResults",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onSearch(i))}),e.YNc(5,Xe,1,2,"ng-template",null,9,e.W1O),e.qZA()()()}if(2&a){const o=e.oxw();e.Q6J("state",e.lcZ(2,6,o.feature$)?o.topPanelState:"initial"),e.xp6(4),e.Q6J("store",o.store)("showIcons",o.showIcons)("term",o.term)("termSplitter",o.termSplitter)("settingsChange$",o.settingsChange$)}}let B=class{constructor(t,o,n,i,s,l){this.mapState=t,this.searchState=o,this.elRef=n,this.toolState=i,this.directionState=s,this.showIcons=!0,this.topPanelStateDefault="expanded",this.hasFeatureEmphasisOnSelection=!1,this.shownResultsGeometries=[],this.shownResultsEmphasisGeometries=[],this.focusedResult$=new S.X(void 0),this.isSelectedResultOutOfView$=new S.X(!1),this.debouncedEmpty$=new S.X(!0),this.term="",this.settingsChange$=new S.X(void 0),this.topPanelState$=new S.X("initial"),this.format=new Ce.Z,this.hasFeatureEmphasisOnSelection=l.getConfig("hasFeatureEmphasisOnSelection")}get store(){return this.searchState.store}get map(){return this.mapState.map}get featureTitle(){return this.feature?(0,u.TF)(this.feature):void 0}get feature$(){return this.store.stateView.firstBy$(t=>t.state.focused).pipe((0,Te.U)(t=>this.feature=t?t.entity.data:void 0))}set topPanelState(t){this.topPanelState$.next(t)}get topPanelState(){return this.topPanelState$.value}get termSplitter(){return this.searchState.searchTermSplitter$.value}get searchStore(){return this.searchState.store}ngOnInit(){this.searchTerm$$=this.searchState.searchTerm$.subscribe(t=>{null!=t&&(this.term=t)});for(const t of this.store.stateView.all$().value)!0===this.store.state.get(t.entity).selected&&(this.topPanelState="expanded");this.searchState.searchSettingsChange$.subscribe(()=>{this.settingsChange$.next(!0)}),this.topPanelState$$=this.topPanelState$.subscribe(()=>{const t=this.computeElementRef()[0],o=this.computeElementRef()[1];o&&setTimeout(()=>{this.isScrolledIntoView(t,o)||this.adjustTopPanel(t,o)},u.dF.transitionTime+50)}),this.hasFeatureEmphasisOnSelection&&(this.searchState.focusedOrResolution$$||(this.searchState.focusedOrResolution$$=(0,te.a)([this.focusedResult$,this.map.viewController.resolution$]).subscribe(t=>this.buildResultEmphasis(t[0],"focused"))),this.searchState.selectedOrResolution$$||(this.searchState.selectedOrResolution$$=(0,te.a)([this.searchState.selectedResult$,this.map.viewController.resolution$]).subscribe(t=>this.buildResultEmphasis(t[0],"selected")))),this.monitorResultOutOfView(),this.showResultsGeometries$$=(0,te.a)([this.searchState.searchResultsGeometryEnabled$,this.store.stateView.all$(),this.focusedResult$,this.searchState.selectedResult$,this.searchState.searchTerm$,this.map.viewController.resolution$]).subscribe(t=>{const o=t[0],n=t[1];this.hasFeatureEmphasisOnSelection&&this.clearFeatureEmphasis("shown"),this.shownResultsGeometries.map(s=>this.map.queryResultsOverlay.removeFeature(s)),n.filter(s=>s.entity.meta.dataType===r.D97&&s.entity.data.geometry&&!s.state.selected&&!s.state.focused).map(s=>{var l;o&&(s.entity.data.meta.style=(0,r.eU6)(Object.assign({},{feature:s.entity.data},this.searchState.searchOverlayStyle,null!==(l=s.entity.style)&&void 0!==l&&l.base?s.entity.style.base:{})),this.shownResultsGeometries.push(s.entity.data),this.map.queryResultsOverlay.addFeature(s.entity.data,r.bAZ.None),this.hasFeatureEmphasisOnSelection&&this.buildResultEmphasis(s.entity,"shown"))})}),this.debouncedEmpty$$=this.store.stateView.empty$.pipe((0,U.b)(1500)).subscribe(t=>this.debouncedEmpty$.next(t))}monitorResultOutOfView(){this.isSelectedResultOutOfView$$=(0,te.a)([this.map.viewController.state$,this.searchState.selectedResult$]).pipe((0,U.b)(100)).subscribe(t=>{const o=t[1];if(o){if(o.data.geometry){const n=(0,r.zMd)(o.data,this.map.projection),i=(0,r.HgW)(this.map,[n]);this.isSelectedResultOutOfView$.next((0,r.brJ)(this.map,i))}}else this.isSelectedResultOutOfView$.next(!1)})}buildResultEmphasis(t,o){var n,i,s;if("shown"!==o&&this.clearFeatureEmphasis(o),!t||!t.data.geometry)return;const d=(0,r.zMd)(t.data,this.map.projection).getGeometry();if((0,r.fle)(this.map,d.getExtent(),.0025)){const m=d.getExtent(),f=m[0]+(m[2]-m[0])/2,b=m[1]+(m[3]-m[1])/2,w=new Qe.Z({name:`${o}AbstractResult'`,geometry:new He.Z([f,b])}),x=(0,r.ve2)(w,this.map.projection);let _,A=0;switch(o){case"focused":_=(0,r.DQ6)(Object.assign({},{feature:x},this.searchState.searchOverlayStyleFocus,null!==(n=t.style)&&void 0!==n&&n.focus?t.style.focus:{})),A=2;break;case"shown":_=(0,r.eU6)(Object.assign({},{feature:x},this.searchState.searchOverlayStyle,null!==(i=t.style)&&void 0!==i&&i.base?t.style.base:{}));break;case"selected":_=(0,r.DQ6)(Object.assign({},{feature:x},this.searchState.searchOverlayStyleSelection,null!==(s=t.style)&&void 0!==s&&s.selection?t.style.selection:{})),A=1}x.meta.style=_,x.meta.style.setZIndex(2e3+A),this.map.searchResultsOverlay.addFeature(x,r.bAZ.None),"focused"===o&&(this.abstractFocusedResult=x),"selected"===o&&(this.abstractSelectedResult=x),"shown"===o&&this.shownResultsEmphasisGeometries.push(x)}else this.clearFeatureEmphasis(o)}clearFeatureEmphasis(t){"focused"===t&&this.abstractFocusedResult&&(this.map.searchResultsOverlay.removeFeature(this.abstractFocusedResult),this.abstractFocusedResult=void 0),"selected"===t&&this.abstractSelectedResult&&(this.map.searchResultsOverlay.removeFeature(this.abstractSelectedResult),this.abstractSelectedResult=void 0),"shown"===t&&(this.shownResultsEmphasisGeometries.map(o=>this.map.searchResultsOverlay.removeFeature(o)),this.shownResultsEmphasisGeometries=[])}ngOnDestroy(){this.topPanelState$$.unsubscribe(),this.searchTerm$$.unsubscribe(),this.isSelectedResultOutOfView$$&&this.isSelectedResultOutOfView$$.unsubscribe(),this.showResultsGeometries$$&&this.showResultsGeometries$$.unsubscribe(),this.getRoute$$&&this.getRoute$$.unsubscribe(),this.debouncedEmpty$$&&this.debouncedEmpty$$.unsubscribe()}onResultFocus(t){var o;if(this.focusedResult$.next(t),t.meta.dataType===r.D97&&t.data.geometry){t.data.meta.style=(0,r.DQ6)(Object.assign({},{feature:t.data},this.searchState.searchOverlayStyleFocus,null!==(o=t.style)&&void 0!==o&&o.focus?t.style.focus:{}));const n=this.map.searchResultsOverlay.dataSource.ol.getFeatureById(t.meta.id);if(n)return void n.setStyle(t.data.meta.style);this.map.searchResultsOverlay.addFeature(t.data,r.bAZ.None)}}onResultUnfocus(t){var o;if(this.focusedResult$.next(void 0),t.meta.dataType===r.D97){if(!0===this.store.state.get(t).selected){const n=this.map.searchResultsOverlay.dataSource.ol.getFeatureById(t.meta.id);if(n){const i=(0,r.DQ6)(Object.assign({},{feature:t.data},this.searchState.searchOverlayStyleFocus,null!==(o=t.style)&&void 0!==o&&o.focus?t.style.focus:{}));n.setStyle(i)}return}this.map.searchResultsOverlay.removeFeature(t.data)}}onResultSelect(t){this.map.searchResultsOverlay.dataSource.ol.clear(),this.tryAddFeatureToMap(t)}onSearch(t){const o=t.results,n=this.store.entities$.value.filter(i=>i.source!==t.research.source).concat(o);this.store.load(n);for(const i of this.store.all())!0===this.store.state.get(i).focused&&!0!==this.store.state.get(i).selected&&this.store.state.update(i,{focused:!1},!0);setTimeout(()=>{const i=this.elRef.nativeElement.querySelector("igo-list");let s;t.research.request.subscribe(l=>{s=l[0]&&l[0].source?"icherche"===l[0].source.getId()?i.querySelector(".icherche .moreResults"):"ilayer"===l[0].source.getId()?i.querySelector(".ilayer .moreResults"):"nominatim"===l[0].source.getId()?i.querySelector(".nominatim .moreResults"):i.querySelector("."+l[0].source.getId()+" .moreResults"):null,null!==s&&!this.isScrolledIntoView(i,s)&&(i.scrollTop=s.offsetTop+s.offsetHeight-i.clientHeight)})},250)}computeElementRef(){const t=document.getElementsByTagName("igo-search-results-item"),o=this.elRef.nativeElement.getElementsByTagName("igo-list")[0];let n;for(let i=0;i<t.length;i++)t[i].className.includes("igo-list-item-selected")&&(n=t[i]);return[o,n]}adjustTopPanel(t,o){this.isScrolledIntoView(t,o)||(t.scrollTop=o.offsetTop+o.children[0].offsetHeight-t.clientHeight)}toggleTopPanel(){"expanded"===this.topPanelState?this.topPanelState="collapsed":this.topPanelState="expanded"}zoomToFeatureExtent(){if(this.feature.geometry){const t=this.format.readFeature(this.feature,{dataProjection:this.feature.projection,featureProjection:this.map.projection});(0,r.ybU)(this.map,[t],r.bAZ.Zoom)}}tryAddFeatureToMap(t){var o;if(t.meta.dataType!==r.D97)return;const n=t.data;!n.geometry||(n.meta.style=(0,r.DQ6)(Object.assign({},{feature:n},this.searchState.searchOverlayStyleSelection,null!==(o=t.style)&&void 0!==o&&o.selection?t.style.selection:{})),this.map.searchResultsOverlay.addFeature(n))}isScrolledIntoView(t,o){const i=t.scrollTop,s=i+t.clientHeight,l=o.offsetTop;return l+o.clientHeight+6<=s&&l>=i}getRoute(){this.toolState.toolbox.activateTool("directions"),this.directionState.stopsStore.clearStops(),setTimeout(()=>{let t=!1;this.getRoute$$&&this.getRoute$$.unsubscribe(),this.getRoute$$=this.directionState.stopsStore.storeInitialized$.subscribe(o=>{if(this.directionState.stopsStore.storeInitialized$.value&&!t){t=!0;const n=this.directionState.stopsStore.all().find(s=>1===s.position);let i;if(this.feature.geometry)if("Point"===this.feature.geometry.type)i=[this.feature.geometry.coordinates[0],this.feature.geometry.coordinates[1]];else{const s=(0,Ye.Z)(this.feature.geometry);i=[s.geometry.coordinates[0],s.geometry.coordinates[1]]}if(n.text=this.featureTitle,n.coordinates=i,this.directionState.stopsStore.update(n),this.map.geolocationController.position$.value){const s=this.map.geolocationController.position$.value,l=this.directionState.stopsStore.all().find(f=>0===f.position),d=oe.vs(s.position,s.projection,"EPSG:4326"),m=(0,r.lQj)([d[0],d[1]],6);l.text=m.join(","),l.coordinates=m,this.directionState.stopsStore.update(l)}}})},250)}};B.\u0275fac=function(t){return new(t||B)(e.Y36(v.U5),e.Y36(v.po),e.Y36(e.SBq),e.Y36(v.EH),e.Y36(v.Nw),e.Y36(p.E4))},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-search-results-tool"]],inputs:{showIcons:"showIcons",topPanelStateDefault:"topPanelStateDefault",topPanelState:"topPanelState"},decls:4,vars:6,consts:[["style","margin: 10px;",4,"ngIf"],["initial","100%","initialMobile","100%","collapsed","calc(100% - 58px)","collapsedMobile","calc(100% - 58px)","expanded","60%","expandedMobile","60%",3,"state",4,"ngIf"],[2,"margin","10px"],[1,"mat-typography"],[3,"innerHTML"],["initial","100%","initialMobile","100%","collapsed","calc(100% - 58px)","collapsedMobile","calc(100% - 58px)","expanded","60%","expandedMobile","60%",3,"state"],["topPanel",""],[1,"igo-content"],["placeholder","false",3,"store","showIcons","term","termSplitter","settingsChange$","resultFocus","resultSelect","resultUnfocus","resultMouseenter","resultMouseleave","moreResults"],["igoSearchItemToolbar",""],[3,"map","layer"]],template:function(t,o){1&t&&(e.YNc(0,Ve,13,11,"div",0),e.ALo(1,"async"),e.YNc(2,We,7,8,"igo-flexible",1),e.ALo(3,"async")),2&t&&(e.Q6J("ngIf",(!o.store||o.store.stateView.empty)&&e.lcZ(1,2,o.debouncedEmpty$)),e.xp6(2),e.Q6J("ngIf",o.store&&!1===e.lcZ(3,4,o.store.stateView.empty$)))},dependencies:[g.O5,r.GYD,r.Uk0,u.dF,g.Ov,z.X$,u.A],encapsulation:2,changeDetection:0}),B=function(a,t,o,n){var l,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,o,n);else for(var d=a.length-1;d>=0;d--)(l=a[d])&&(s=(i<3?l(s):i>3?l(t,o,s):l(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s}([(0,u.$9)({name:"searchResults",title:"igo.integration.tools.searchResults",icon:"magnify"}),function(a,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,t)}("design:paramtypes",[v.U5,v.po,e.SBq,v.EH,v.Nw,p.E4])],B);const Ke=["mapBrowser"];function et(a,t){1&a&&(e._UZ(0,"mat-icon",11),e.ALo(1,"translate")),2&a&&e.Q6J("matTooltip",e.lcZ(1,1,"sideresult.close"))}function tt(a,t){1&a&&(e._UZ(0,"mat-icon",12),e.ALo(1,"translate")),2&a&&e.Q6J("matTooltip",e.lcZ(1,1,"sideresult.open"))}class ae{constructor(t,o,n,i,s,l){this.configService=t,this.mapService=o,this.layerService=n,this.searchState=i,this.searchService=s,this.mediaService=l,this.title$=new S.X(void 0),this.hasSearchQuery=void 0,this.openedChange=new e.vpe,this.events=[],this.hasToolbox=void 0,this.store=new u.Dn([]),this.igoSearchPointerSummaryEnabled=!1,this.termSplitter="|",this.view={center:[-73,47.2],zoom:7},this.settingsChange$=new S.X(void 0),this.mapService.setMap(this.map),this.hasToolbox=void 0!==this.configService.getConfig("hasToolbox")&&this.configService.getConfig("hasToolbox"),this.layerService.createAsyncLayer({title:"OSM",sourceOptions:{type:"osm"}}).subscribe(d=>{this.osmLayer=d})}get map(){return this._map}set map(t){this._map=t}get opened(){return this._opened}set opened(t){t!==this._opened&&(this._opened=t,this.openedChange.emit(this._opened))}get searchStore(){return this.searchState.store}get isTouchScreen(){return this.mediaService.isTouchScreen()}onPointerSummaryStatusChange(t){this.igoSearchPointerSummaryEnabled=t}onSearchTermChange(t=""){this.term=t,t.replace(/(#[^\s]*)/g,"").trim().length<2&&(this.searchStore.clear(),this.selectedFeature=void 0)}onSearch(t){const o=t.results;this.searchStore.state.updateAll({focused:!1,selected:!1});const n=this.searchStore.entities$.value.filter(i=>i.source!==t.research.source).concat(o);this.searchStore.updateMany(n)}onSearchSettingsChange(){this.settingsChange$.next(!0)}onResultFocus(t){this.tryAddFeatureToMap(t),this.selectedFeature=t.data}tryAddFeatureToMap(t){t.meta.dataType===r.D97&&void 0!==t.data.geometry&&this.map.searchResultsOverlay.setFeatures([t.data],r.bAZ.Default)}ngOnInit(){this.store.load([{id:"coordinates",title:"coordinates",handler:this.onSearchCoordinate.bind(this)},{id:"googleMaps",title:"googleMap",handler:this.onOpenGoogleMaps.bind(this),args:["1"]},{id:"googleStreetView",title:"googleStreetView",handler:this.onOpenGoogleStreetView.bind(this)}])}ngOnDestroy(){this.store.destroy()}removeFeatureFromMap(){this.map.searchResultsOverlay.clear()}onContextMenuOpen(t){const o=this.mapPosition(t),n=this.mapService.getMap().ol.getCoordinateFromPixel(o);this.mapProjection=this.mapService.getMap().projection,this.lonlat=oe.vs(n,this.mapProjection,"EPSG:4326")}mapPosition(t){const o=t;return o.y=o.y-this.mapBrowser.nativeElement.getBoundingClientRect().top+window.scrollY,o.x=o.x-this.mapBrowser.nativeElement.getBoundingClientRect().left+window.scrollX,[o.x,o.y]}onPointerSearch(t){this.lonlat=t,this.onSearchCoordinate()}onSearchCoordinate(){this.searchStore.clear();const t=this.searchService.reverseSearch(this.lonlat);for(const o in t)t.length>0&&t[o].request.subscribe(n=>{this.onSearch({research:t[o],results:n})})}onOpenGoogleMaps(){window.open(r.Gij.getGoogleMapsCoordLink(this.lonlat[0],this.lonlat[1]))}onOpenGoogleStreetView(){window.open(r.Gij.getGoogleStreetViewLink(this.lonlat[0],this.lonlat[1]))}}ae.\u0275fac=function(t){return new(t||ae)(e.Y36(p.E4),e.Y36(r.SM5),e.Y36(r.ITu),e.Y36(v.po),e.Y36(r.oDG),e.Y36(p.yJ))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["app-sideresult"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ke,7,e.SBq),2&t){let n;e.iGM(n=e.CRH())&&(o.mapBrowser=n.first)}},inputs:{hasSearchQuery:"hasSearchQuery",hasBackdrop:"hasBackdrop",map:"map",opened:"opened"},outputs:{openedChange:"openedChange"},decls:11,vars:6,consts:[["id","sideresultsDesktop"],["mode","side",3,"autoFocus","opened","openedChange"],["sidenav",""],[1,"app-sideresult-content"],["content",""],["placeholder","false",3,"showIcons","resultFocus","resultSelect","moreResults"],["searchresults",""],["mat-raised-button","","id","sideresult-button","isRoundButton","false","isIconButton","true","MatDrawerMode","push",3,"ngClass","click"],["sidenavbutton",""],["matTooltipShowDelay","500","tooltip-position","after","svgIcon","menu-left",3,"matTooltip",4,"ngIf"],["matTooltipShowDelay","500","tooltip-position","after","svgIcon","menu-right",3,"matTooltip",4,"ngIf"],["matTooltipShowDelay","500","tooltip-position","after","svgIcon","menu-left",3,"matTooltip"],["matTooltipShowDelay","500","tooltip-position","after","svgIcon","menu-right",3,"matTooltip"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",0)(1,"mat-sidenav",1,2),e.NdJ("openedChange",function(s){return o.opened=s}),e.TgZ(3,"div",3,4)(5,"app-search-results-tool",5,6),e.NdJ("resultFocus",function(s){return o.onResultFocus(s)})("resultSelect",function(s){return o.onResultFocus(s)})("moreResults",function(s){return o.onSearch(s)}),e.qZA()()(),e.TgZ(7,"button",7,8),e.NdJ("click",function(){e.CHM(n);const s=e.MAs(2);return e.KtG(s.toggle())}),e.YNc(9,et,2,3,"mat-icon",9),e.YNc(10,tt,2,3,"mat-icon",10),e.qZA()()}if(2&t){const n=e.MAs(2);e.xp6(1),e.Q6J("autoFocus",!1)("opened",o.opened),e.xp6(4),e.Q6J("showIcons",!0),e.xp6(2),e.Q6J("ngClass",n.opened?"sideresult-opened":"sideresult-closed"),e.xp6(2),e.Q6J("ngIf",n.opened),e.xp6(1),e.Q6J("ngIf",!n.opened)}},dependencies:[g.mk,g.O5,F.Hw,k.lW,q.JX,T.gM,B,z.X$],styles:["mat-sidenav[_ngcontent-%COMP%]{-o-box-shadow:2px 2px 2px 0px #dddddd;box-shadow:2px 2px 2px #ddd}[_nghost-%COMP%]{background-color:#fff}mat-sidenav[_ngcontent-%COMP%]{height:calc(100% - 33px);width:400px;overflow:visible}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav[_ngcontent-%COMP%]{width:calc(100% - 44px);max-width:400px}}.app-content[_ngcontent-%COMP%], igo-panel[_ngcontent-%COMP%]{height:100%}.app-sideresult-content[_ngcontent-%COMP%]{height:100%;display:block;position:relative;overflow:hidden}app-sideresult[_ngcontent-%COMP%]{width:400px}  igo-search-results{position:relative;left:16px!important;width:100%;display:contents;height:100%}igo-search-results-tool[_ngcontent-%COMP%]{display:block;position:relative;margin:0 16px;top:8px;height:100%}#sideresult-button[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;left:401px;z-index:1;padding:0;min-width:12px!important;animation-duration:3s;visibility:visible;opacity:1;opacity:0;animation:fadeIn .9s;animation-delay:.5s;animation-fill-mode:forwards;width:24px}.sideresult-closed[_ngcontent-%COMP%]{left:0!important;position:absolute}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}app-search-results-tool[_ngcontent-%COMP%]{width:100%;height:100%;padding:60px 16px 0;display:flex}  app-search-results-tool>div>section>h4>strong{font-size:21px!important}"],changeDetection:0});var fe=c(16531);const ot=["mapBrowser"];function nt(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"igo-search-bar",5,6),e.NdJ("keydown.Space",function(i){return i.stopPropagation()})("searchTermChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onSearchTermChange(i))})("pointerSummaryStatus",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onPointerSummaryStatusChange(i))})("searchResultsGeometryStatus",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.onSearchResultsGeometryStatusChange(i))})("clearFeature",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.removeFeatureFromMap())})("searchSettingsChange",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onSearchSettingsChange())}),e.ALo(2,"translate"),e.qZA()}if(2&a){const o=e.oxw();e.Q6J("matTooltip",e.lcZ(2,7,"search-bar"))("searchSettings",!1)("termSplitter",o.termSplitter)("forceNA",o.forceCoordsNA)("store",o.searchStore)("pointerSummaryEnabled",o.igoSearchPointerSummaryEnabled)("searchResultsGeometryEnabled",o.searchResultsGeometryEnabled)}}class se{constructor(t,o,n,i,s,l,d,m,f,b){this.configService=t,this.catalogState=o,this.languageService=n,this.projectionService=i,this.mapService=s,this.layerService=l,this.searchState=d,this.searchService=m,this.mediaService=f,this.elRef=b,this.title$=new S.X(void 0),this.openedChange=new e.vpe,this.events=[],this.store=new u.Dn([]),this.igoSearchPointerSummaryEnabled=!1,this.termSplitter="|",this.view={center:[-73,47.2],zoom:7},this.settingsChange$=new S.X(void 0),this.mapService.setMap(this.map),this.showSearchBar=void 0===this.configService.getConfig("showSearchBar")||this.configService.getConfig("showSearchBar"),this.layerService.createAsyncLayer({title:"OSM",sourceOptions:{type:"osm"}}).subscribe(w=>{this.osmLayer=w})}get map(){return this._map}set map(t){this._map=t}get opened(){return this._opened}set opened(t){t!==this._opened&&(this._opened=t,this.openedChange.emit(this._opened))}get searchStore(){return this.searchState.store}get isTouchScreen(){return this.mediaService.isTouchScreen()}onPointerSummaryStatusChange(t){this.igoSearchPointerSummaryEnabled=t}onSearchTermChange(t=""){this.term=t,t.replace(/(#[^\s]*)/g,"").trim().length<2&&(this.searchStore.clear(),this.selectedFeature=void 0,this.panelOpenState=!0)}onSearch(t){console.log("onSearch");const o=t.results;this.searchStore.state.updateAll({focused:!1,selected:!1});const n=this.searchStore.entities$.value.filter(i=>i.source!==t.research.source).concat(o);this.searchStore.updateMany(n)}onSearchSettingsChange(){this.settingsChange$.next(!0)}onResultFocus(t){this.tryAddFeatureToMap(t),this.selectedFeature=t.data}tryAddFeatureToMap(t){t.meta.dataType===r.D97&&void 0!==t.data.geometry&&this.map.searchResultsOverlay.setFeatures([t.data],r.bAZ.Default)}ngOnInit(){this.store.load([{id:"coordinates",title:"coordinates",handler:this.onSearchCoordinate.bind(this)},{id:"googleMaps",title:"googleMap",handler:this.onOpenGoogleMaps.bind(this),args:["1"]},{id:"googleStreetView",title:"googleStreetView",handler:this.onOpenGoogleStreetView.bind(this)}])}ngOnDestroy(){this.store.destroy()}removeFeatureFromMap(){this.map.searchResultsOverlay.clear()}onContextMenuOpen(t){const o=this.mapPosition(t),n=this.mapService.getMap().ol.getCoordinateFromPixel(o);this.mapProjection=this.mapService.getMap().projection,this.lonlat=oe.vs(n,this.mapProjection,"EPSG:4326")}mapPosition(t){const o=t;return o.y=o.y-this.mapBrowser.nativeElement.getBoundingClientRect().top+window.scrollY,o.x=o.x-this.mapBrowser.nativeElement.getBoundingClientRect().left+window.scrollX,[o.x,o.y]}onPointerSearch(t){this.lonlat=t,this.onSearchCoordinate()}onSearchCoordinate(){this.searchStore.clear();const t=this.searchService.reverseSearch(this.lonlat);for(const o in t)t.length>0&&t[o].request.subscribe(n=>{this.onSearch({research:t[o],results:n})})}onOpenGoogleMaps(){window.open(r.Gij.getGoogleMapsCoordLink(this.lonlat[0],this.lonlat[1]))}onOpenGoogleStreetView(){window.open(r.Gij.getGoogleStreetViewLink(this.lonlat[0],this.lonlat[1]))}}se.\u0275fac=function(t){return new(t||se)(e.Y36(p.E4),e.Y36(v.Yy),e.Y36(p.TS),e.Y36(r.tU_),e.Y36(r.SM5),e.Y36(r.ITu),e.Y36(v.po),e.Y36(r.oDG),e.Y36(p.yJ),e.Y36(e.SBq))},se.\u0275cmp=e.Xpm({type:se,selectors:[["app-bottomresult"]],viewQuery:function(t,o){if(1&t&&e.Gf(ot,7,e.SBq),2&t){let n;e.iGM(n=e.CRH())&&(o.mapBrowser=n.first)}},inputs:{hasSearchQuery:"hasSearchQuery",map:"map",opened:"opened"},outputs:{openedChange:"openedChange"},decls:6,vars:2,consts:[["id","bottomResultMobile"],["_expanded","true"],["appearance","outline","searchIcon","magnify","matTooltipShowDelay","500","tooltip-position","after","color","primary",3,"matTooltip","searchSettings","termSplitter","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","keydown.Space","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","clearFeature","searchSettingsChange",4,"ngIf"],["placeholder","false",3,"showIcons","resultSelect","moreResults"],["searchresults",""],["appearance","outline","searchIcon","magnify","matTooltipShowDelay","500","tooltip-position","after","color","primary",3,"matTooltip","searchSettings","termSplitter","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","keydown.Space","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","clearFeature","searchSettingsChange"],["searchbar",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header",1),e.YNc(3,nt,3,9,"igo-search-bar",2),e.qZA(),e.TgZ(4,"app-search-results-tool",3,4),e.NdJ("resultSelect",function(i){return o.onResultFocus(i)})("moreResults",function(i){return o.onSearch(i)}),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.showSearchBar),e.xp6(1),e.Q6J("showIcons",!0))},dependencies:[g.O5,T.gM,r.NBD,B,fe.ib,fe.yz,z.X$],styles:["[_nghost-%COMP%]{background-color:#fff;width:100%}  igo-search-results{position:relative;left:16px!important;width:352px;display:contents;height:calc(100% - 44px)}igo-search-results-tool[_ngcontent-%COMP%]{display:block;position:relative;margin:0 16px;top:8px;height:100%;width:100%}  app-search-results-tool>div>section>h4>strong{font-size:21px!important}igo-search-bar[_ngcontent-%COMP%]{margin:auto;width:100%;padding:1rem}  app-bottomresult .mat-expansion-panel-content{overflow-y:scroll!important;height:250px;width:100%}#bottomResultMobile[_ngcontent-%COMP%]{position:relative;display:block;bottom:0}"],changeDetection:0});const it=["mapBrowser"],at=["searchBar"];function st(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"igo-menu-button",18),e.NdJ("openSidenav",function(){e.CHM(o);const i=e.oxw(3);return e.KtG(i.onToggleSidenavClick())}),e.qZA()}if(2&a){const o=e.oxw(3);e.Q6J("sidenavOpened",o.sidenavOpened)}}function rt(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"igo-search-bar",19,20),e.NdJ("pointerSummaryStatus",function(i){e.CHM(o);const s=e.oxw(3);return e.KtG(s.onPointerSummaryStatusChange(i))})("searchTermChange",function(i){e.CHM(o);const s=e.oxw(3);return e.KtG(s.onSearchTermChange(i))})("search",function(i){e.CHM(o);const s=e.oxw(3);return e.KtG(s.onSearch(i))})("clearFeature",function(){e.CHM(o);const i=e.oxw(3);return e.KtG(i.removeFeatureFromMap())})("searchSettingsChange",function(){e.CHM(o);const i=e.oxw(3);return e.KtG(i.onSearchSettingsChange())}),e.ALo(2,"translate"),e.qZA()}if(2&a){const o=e.oxw(3);e.Q6J("matTooltip",e.lcZ(2,4,"search-bar"))("searchSettings",!1)("store",o.searchStore)("termSplitter",o.termSplitter)}}function lt(a,t){1&a&&e._UZ(0,"div",3)}function ct(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"div",13),e.YNc(1,st,1,1,"igo-menu-button",14),e.YNc(2,rt,3,6,"igo-search-bar",15),e.YNc(3,lt,1,0,"div",16),e.TgZ(4,"app-sideresult",17),e.NdJ("openedChange",function(i){e.CHM(o);const s=e.oxw(2);return e.KtG(s.sidenavOpened=i)})("toolChange",function(i){e.CHM(o);const s=e.oxw(2);return e.KtG(s.toolChanged(i))}),e.qZA()()}if(2&a){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.showMenuButton),e.xp6(1),e.Q6J("ngIf",o.showSearchBar),e.xp6(1),e.Q6J("ngIf",!o.mobile),e.xp6(1),e.Q6J("map",o.map)("opened",o.sidenavOpened)}}function pt(a,t){if(1&a&&e._UZ(0,"igo-geolocate-button",10),2&a){const o=e.oxw(2);e.Q6J("map",o.map)}}function dt(a,t){1&a&&e._UZ(0,"app-legend-button")}function ht(a,t){if(1&a&&e._UZ(0,"app-bottomresult",21),2&a){const o=e.oxw(2);e.Q6J("map",o.map)}}function ut(a,t){1&a&&e._UZ(0,"app-footer")}const mt=function(a,t){return{"igo-attribution-offset":a,"map-hasfooter":t}},gt=function(){return["baselayers-pushed"]},ft=function(){return["igo-baselayers-switcher-mobile"]},bt=function(){return["baselayers"]},vt=function(){return["map-buttons-mobile"]},St=function(){return["map-buttons"]};function xt(a,t){if(1&a){const o=e.EpF();e.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav-content",1)(2,"igo-backdrop",2),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onBackdropClick())}),e.qZA(),e._UZ(3,"div",3),e.YNc(4,ct,5,5,"div",4),e.TgZ(5,"igo-map-browser",5,6),e._UZ(7,"igo-baselayers-switcher",7),e.TgZ(8,"div",8),e.YNc(9,pt,1,1,"igo-geolocate-button",9),e._UZ(10,"igo-zoom-button",10)(11,"igo-rotation-button",11),e.YNc(12,dt,1,0,"app-legend-button",0),e.qZA(),e.YNc(13,ht,1,1,"app-bottomresult",12),e.qZA(),e.YNc(14,ut,1,0,"app-footer",0),e._UZ(15,"app-map-overlay"),e.ALo(16,"async"),e.qZA()()}if(2&a){const o=e.oxw();e.xp6(2),e.Q6J("shown",!1),e.xp6(2),e.Q6J("ngIf",!o.mobile),e.xp6(1),e.Q6J("map",o.map)("igoHoverFeatureEnabled",!0)("ngClass",e.WLB(20,mt,o.map.getBaseLayers().length>1,o.hasFooter)),e.xp6(2),e.Q6J("ngClass",o.sidenavOpened?e.DdM(23,gt):o.mobile?e.DdM(24,ft):e.DdM(25,bt))("map",o.map)("useStaticIcon",o.getBaseLayersUseStaticIcon()),e.xp6(1),e.Q6J("ngClass",o.mobile?e.DdM(26,vt):e.DdM(27,St)),e.xp6(1),e.Q6J("ngIf",o.hasGeolocateButton),e.xp6(1),e.Q6J("map",o.map),e.xp6(1),e.Q6J("showIfNoRotation",o.showRotationButtonIfNoRotation)("map",o.map),e.xp6(1),e.Q6J("ngIf",o.hasLegendButton),e.xp6(1),e.Q6J("ngIf",o.mobile),e.xp6(1),e.Q6J("ngIf",o.hasFooter&&!o.mobile),e.xp6(1),e.Q6J("@controlStateY",o.getControlsOffsetY())("@controlStateX","mobile"!==e.lcZ(16,18,o.mediaService.media$)&&o.sidenavOpened?"right":"left")}}class Q{constructor(t,o,n,i,s,l,d,m,f,b,w,x,_,A,ve,Se,Bt,Et,jt,Zt,$t,Lt,At,Ut){this.route=t,this.workspaceState=o,this.authService=n,this.mediaService=i,this.layerService=s,this.dataSourceService=l,this.capabilitiesService=d,this.contextState=m,this.mapState=f,this.searchState=b,this.queryState=w,this.toolState=x,this.searchSourceService=_,this.configService=A,this.importService=ve,this.http=Se,this.languageService=Bt,this.messageService=Et,this.dialogWindow=jt,this.storageService=Zt,this.directionState=$t,this.dialog=Lt,this.breakpointObserver=At,this.pwaService=Ut,this.showRotationButtonIfNoRotation=void 0,this.hasFooter=!0,this.hasLegendButton=!0,this.hasGeolocateButton=!0,this.hasExpansionPanel=void 0,this.hasToolbox=!1,this.workspaceNotAvailableMessage="workspace.disabled.resolution",this.workspaceEntitySortChange$=new S.X(!1),this.workspaceMaximize$$=[],this.workspaceMaximize$=new S.X(this.storageService.get("workspaceMaximize")),this.selectedWorkspace$=new S.X(void 0),this.hasSideSearch=!0,this.showSearchBar=!0,this.showMenuButton=!0,this.sidenavOpened$=new S.X(!1),this.settingsChange$=new S.X(void 0),this.toastPanelOffsetX$=new S.X(void 0),this.minSearchTermLength=2,this.hasHomeExtentButton=!1,this.hasFeatureEmphasisOnSelection=!1,this.workspaceSwitchDisabled=!1,this.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]},this.workspaceMenuClass="workspace-menu",this.fullExtent=this.storageService.get("fullExtent"),this.matDialogRef$=new S.X(void 0),this.searchBarTerm="",this.onSettingsChange$=new S.X(void 0),this.termDefinedInUrl=!1,this.termSplitter="|",this.termDefinedInUrlTriggered=!1,this.addedLayers$$=[],this.forceCoordsNA=!1,this.contextMenuStore=new u.Dn([]),this.contextLoaded=!1,this.toastPanelForExpansionOpened=!0,this.showToastPanelForExpansionToggle=!1,this.toastPanelHtmlDisplay=!1,this.dialogOpened=this.dialog.getDialogById("legend-button-dialog-container"),this.mobileBreakPoint="(min-width: 768px)",this.Breakpoints=we.u3,this.currentBreakpoint="",this.breakpoint$=this.breakpointObserver.observe(this.mobileBreakPoint).pipe((0,ke.b)(()=>{}),(0,Fe.x)()),this.hasFooter=void 0!==this.configService.getConfig("hasFooter")&&this.configService.getConfig("hasFooter"),this.hasLegendButton=void 0!==this.configService.getConfig("hasLegendButton")&&this.configService.getConfig("hasLegendButton"),this.hasSideSearch=void 0===this.configService.getConfig("hasSideSearch")||this.configService.getConfig("hasSideSearch"),this.showSearchBar=void 0===this.configService.getConfig("searchBar.showSearchBar")||this.configService.getConfig("searchBar.showSearchBar"),this.hasToolbox=void 0===this.configService.getConfig("hasToolbox")||this.configService.getConfig("hasToolbox"),this.showMenuButton=void 0===this.configService.getConfig("showMenuButton")||this.configService.getConfig("showMenuButton"),this.hasExpansionPanel=this.configService.getConfig("hasExpansionPanel"),this.hasHomeExtentButton=void 0!==this.configService.getConfig("homeExtentButton"),this.hasGeolocateButton=void 0===this.configService.getConfig("hasGeolocateButton")||this.configService.getConfig("hasGeolocateButton"),this.showRotationButtonIfNoRotation=void 0!==this.configService.getConfig("showRotationButtonIfNoRotation")&&this.configService.getConfig("showRotationButtonIfNoRotation"),this.forceCoordsNA=this.configService.getConfig("app.forceCoordsNA"),this.hasFeatureEmphasisOnSelection=this.configService.getConfig("hasFeatureEmphasisOnSelection"),this.igoSearchPointerSummaryEnabled=this.configService.getConfig("hasSearchPointerSummary"),void 0===this.igoSearchPointerSummaryEnabled&&(this.igoSearchPointerSummaryEnabled=this.storageService.get("searchPointerSummaryEnabled")||!1),this.mobileBreakPoint=void 0===this.configService.getConfig("mobileBreakPoint")?"'(min-width: 768px)'":this.configService.getConfig("mobileBreakPoint")}getBaseLayersUseStaticIcon(){return this.configService.getConfig("useStaticIcon")}get map(){return this.mapState.map}get sidenavOpened(){return this.sidenavOpened$.value}set sidenavOpened(t){this.sidenavOpened$.next(t)}get auth(){return this.configService.getConfig("auth")||[]}isMobile(){return this.mediaService.getMedia()===p.pU.Mobile}isTablet(){return this.mediaService.getMedia()===p.pU.Tablet}isLandscape(){return this.mediaService.getOrientation()===p.pC.Landscape}isPortrait(){return this.mediaService.getOrientation()===p.pC.Portrait}get backdropShown(){return this.sidenavOpened}get expansionPanelExpanded(){return this.workspaceState.workspacePanelExpanded}set expansionPanelExpanded(t){this.workspaceState.workspacePanelExpanded=t,!0===t?this.map.viewController.setPadding({bottom:280}):this.map.viewController.setPadding({bottom:0})}get toastPanelShown(){return!0}get expansionPanelBackdropShown(){return this.expansionPanelExpanded&&this.toastPanelForExpansionOpened}get workspace(){return this.workspaceState.workspace$.value}get actionbarMode(){return u.rO.Overlay}get actionbarWithTitle(){return this.actionbarMode===u.rO.Overlay}get searchStore(){return this.searchState.store}get searchResultsGeometryEnabled(){return this.searchState.searchResultsGeometryEnabled$.value}get toolbox(){return this.toolState.toolbox}get workspaceStore(){return this.workspaceState.store}ngOnInit(){window.IGO=this,this.hasGeolocateButton=void 0===this.configService.getConfig("hasGeolocateButton")||this.configService.getConfig("hasGeolocateButton"),this.map.ol.once("rendercomplete",()=>{this.readQueryParams(),void 0!==this.configService.getConfig("geolocate.activateDefault")&&(this.map.geolocationController.tracking=this.configService.getConfig("geolocate.activateDefault"))}),this.searchState.searchTermSplitter$.next(this.termSplitter),this.authService.authenticate$.subscribe(o=>{this.contextLoaded=!1}),this.route.queryParams.subscribe(o=>{this.readLanguageParam(o)}),this.context$$=this.contextState.context$.subscribe(o=>this.onChangeContext(o));const t=[{id:"coordinates",title:"coordinates",handler:()=>this.searchCoordinate(this.contextMenuCoord)},{id:"googleMaps",title:"googleMap",handler:()=>this.openGoogleMaps(this.contextMenuCoord)},{id:"googleStreetView",title:"googleStreetView",handler:()=>this.openGoogleStreetView(this.contextMenuCoord)}];this.contextMenuStore.load(t),this.onSettingsChange$.subscribe(()=>{this.searchState.setSearchSettingsChange()}),this.searchState.selectedResult$.subscribe(o=>{o&&this.isMobile()&&this.closeSidenav()}),this.workspaceState.workspaceEnabled$.next(this.hasExpansionPanel),this.workspaceState.store.empty$.subscribe(o=>{!this.hasExpansionPanel||(this.workspaceState.workspaceEnabled$.next(!o),o&&(this.expansionPanelExpanded=!1),this.updateMapBrowserClass())}),this.workspaceState.workspace$.subscribe(o=>{var n,i,s,l;o?(this.selectedWorkspace$.next(o),this.expansionPanelExpanded=!0,(null===(n=o.layer.options.workspace)||void 0===n?void 0:n.pageSize)&&(null===(i=o.layer.options.workspace)||void 0===i?void 0:i.pageSizeOptions)?this.paginatorOptions={pageSize:null===(s=o.layer.options.workspace)||void 0===s?void 0:s.pageSize,pageSizeOptions:null===(l=o.layer.options.workspace)||void 0===l?void 0:l.pageSizeOptions}:this.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]}):this.expansionPanelExpanded=!1}),this.activeWidget$$=this.workspaceState.activeWorkspaceWidget$.subscribe(o=>{void 0!==o?(this.openToastPanelForExpansion(),this.showToastPanelForExpansionToggle=!0):(this.closeToastPanelForExpansion(),this.showToastPanelForExpansionToggle=!1)}),this.openSidenav$$=this.toolState.openSidenav$.subscribe(o=>{o&&(this.openSidenav(),this.toolState.openSidenav$.next(!1))}),this.sidenavMediaAndOrientation$$=(0,te.a)([this.sidenavOpened$,this.mediaService.media$,this.mediaService.orientation$]).pipe((0,U.b)(50)).subscribe(()=>{this.computeToastPanelOffsetX()}),this.breakpoint$.subscribe(()=>this.breakpointChanged())}initSW(){const t=this.configService.getConfig("pwa.dataDownload");if("serviceWorker"in navigator&&t){let o,n;const i=this.storageService.get("dataLoadSource");navigator.serviceWorker.ready.then(s=>{console.log("Service Worker Ready"),this.http.get("ngsw.json").pipe((0,Be.b)(l=>{const d=[];if(l){n=l.appData.version;const f=this.storageService.get("cachedDataVersion");if(n!==f&&"pending"===i&&this.pwaService.updates.checkForUpdate(),"newVersion"===i||!i)return l.assetGroups.map(b=>{"contexts"===b.name&&b.urls.concat(b.files).filter(x=>x).map((x,_)=>d.push(this.http.get(x).pipe((0,xe.g)(750))))}),(0,me.$)(...d)}return(0,me.$)(...d)})).pipe((0,xe.g)(1e3)).subscribe(()=>{if(o){this.messageService.remove(o.toastId);const l=this.languageService.translate.instant("pwa.data-download-completed");this.messageService.success(l,void 0,{timeOut:4e4}),n&&(this.storageService.set("dataLoadSource","pending"),this.storageService.set("cachedDataVersion",n))}})})}}breakpointChanged(){this.breakpointObserver.isMatched("(min-width: 768px)")?(this.currentBreakpoint=this.mobileBreakPoint,this.mobile=!1):this.mobile=!0}computeToastPanelOffsetX(){this.isMobile()||!this.isLandscape()?Promise.resolve().then(()=>this.toastPanelOffsetX$.next(void 0)):Promise.resolve().then(()=>this.toastPanelOffsetX$.next(this.getToastPanelExtent()))}createFeatureProperties(t){let o={};return t.options.sourceOptions.sourceFields.forEach(n=>{!n.primary&&n.visible&&(o[n.name]="")}),o}entitySortChange(){this.workspaceEntitySortChange$.next(!0)}ngOnDestroy(){this.context$$.unsubscribe(),this.activeWidget$$.unsubscribe(),this.openSidenav$$.unsubscribe(),this.workspaceMaximize$$.map(t=>t.unsubscribe()),this.sidenavMediaAndOrientation$$.unsubscribe()}removeFeatureFromMap(){this.map.searchResultsOverlay.clear()}cancelOngoingAddLayer(){this.addedLayers$$.forEach(t=>t.unsubscribe()),this.addedLayers$$=[]}onBackdropClick(){this.closeSidenav()}onToggleSidenavClick(){this.toggleSidenav()}closeToastPanelForExpansion(){this.toastPanelForExpansionOpened=!1}openToastPanelForExpansion(){this.toastPanelForExpansionOpened=!0}onSearchTermChange(t){var o;(null===(o=this.routeParams)||void 0===o?void 0:o.search)&&t!==this.routeParams.search&&this.searchState.deactivateCustomFilterTermStrategy(),this.searchState.setSearchTerm(t),t.replace(/(#[^\s]*)/g,"").trim().length<2?this.onClearSearch():this.onBeforeSearch()}onSearch(t){const o=t.results,n=!(0,r.OcM)(t.research.source);let i;i=n?this.searchSourceService.getEnabledSources().filter(r._iF):this.searchSourceService.getEnabledSources().filter(r.OcM);const s=this.searchStore.entities$.value.filter(l=>l.source!==t.research.source&&i.includes(l.source)).concat(o);this.searchStore.updateMany(s)}onSearchSettingsChange(){this.onSettingsChange$.next(!0)}closeSidenav(){this.sidenavOpened=!1,this.map.viewController.padding[3]=0}openSidenav(){this.sidenavOpened=!0,this.map.viewController.padding[3]=this.isMobile()?0:400}toggleSidenav(){this.sidenavOpened?this.closeSidenav():this.openSidenav(),this.computeToastPanelOffsetX()}toolChanged(t){t&&"searchResults"===t.name&&this.searchBar&&this.searchBar.nativeElement.getElementsByTagName("input")[0].focus()}computeHomeExtentValues(t){var o,n;null!==(n=null===(o=null==t?void 0:t.map)||void 0===o?void 0:o.view)&&void 0!==n&&n.homeExtent?(this.homeExtent=t.map.view.homeExtent.extent,this.homeCenter=t.map.view.homeExtent.center,this.homeZoom=t.map.view.homeExtent.zoom):(this.homeExtent=void 0,this.homeCenter=void 0,this.homeZoom=void 0)}onChangeContext(t){if(this.cancelOngoingAddLayer(),void 0!==t){if(this.workspace&&!this.workspace.entityStore.empty&&this.workspace.entityStore.clear(),this.queryState.store.empty||this.queryState.store.softClear(),this.computeHomeExtentValues(t),this.route.queryParams.pipe((0,U.b)(250)).subscribe(o=>{(!o.context||o.context===t.uri)&&this.readLayersQueryParams(o)}),this.contextLoaded){const o=this.toolbox.getTool("contextManager");let i=(o?o.options:{}).toolToOpenOnContextChange;if(!i){const s=["mapTools","map","mapDetails","mapLegend"];for(const l of s)if(this.toolbox.getTool(l)){i=l;break}}i&&this.toolbox.activateTool(i)}this.contextLoaded=!0}}onBeforeSearch(){(!this.toolbox.activeTool$.value||"searchResults"!==this.toolbox.activeTool$.value.name)&&this.toolbox.activateTool("searchResults"),this.openSidenav()}onClearSearch(){this.map.searchResultsOverlay.clear(),this.searchStore.clear(),this.searchState.setSelectedResult(void 0),this.searchState.deactivateCustomFilterTermStrategy()}onContextMenuOpen(t){this.contextMenuCoord=this.getClickCoordinate(t)}getClickCoordinate(t){const o=t,n=this.mapBrowser.nativeElement.getBoundingClientRect();o.y=o.y-n.top+(window.scrollY||window.pageYOffset),o.x=o.x-n.left+(window.scrollX||window.pageXOffset);const i=[o.x,o.y],s=this.map.ol.getCoordinateFromPixel(i),l=this.map.projection;return oe.vs(s,l,"EPSG:4326")}openGoogleMaps(t){window.open(r.Gij.getGoogleMapsCoordLink(t[0],t[1]))}openGoogleStreetView(t){window.open(r.Gij.getGoogleStreetViewLink(t[0],t[1]))}searchCoordinate(t){this.searchBarTerm=t.map(o=>o.toFixed(6)).join(", ")}updateMapBrowserClass(){const t=this.queryState.store.entities$.value.length>0;this.hasExpansionPanel&&this.workspaceState.workspaceEnabled$.value?this.mapBrowser.nativeElement.classList.add("has-expansion-panel"):this.mapBrowser.nativeElement.classList.remove("has-expansion-panel"),this.hasExpansionPanel&&this.expansionPanelExpanded?this.workspaceMaximize$.value?(this.mapBrowser.nativeElement.classList.add("expansion-offset-maximized"),this.mapBrowser.nativeElement.classList.remove("expansion-offset")):(this.mapBrowser.nativeElement.classList.add("expansion-offset"),this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized")):this.workspaceMaximize$.value?this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized"):this.mapBrowser.nativeElement.classList.remove("expansion-offset"),this.sidenavOpened?this.mapBrowser.nativeElement.classList.add("sidenav-offset"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset"),this.sidenavOpened&&!this.isMobile()?this.mapBrowser.nativeElement.classList.add("sidenav-offset-baselayers"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset-baselayers"),t&&(this.isMobile()||this.isTablet()||this.sidenavOpened)&&!this.expansionPanelExpanded?this.mapBrowser.nativeElement.classList.add("toast-offset-attribution"):this.mapBrowser.nativeElement.classList.remove("toast-offset-attribution")}getToastPanelExtent(){return this.sidenavOpened?this.sidenavOpened?this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplayOffsetX":this.fullExtent?"fullOffsetX":"standardOffsetX":void 0:this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplay":this.fullExtent?"fullStandard":"standard"}onPointerSummaryStatusChange(t){this.storageService.set("searchPointerSummaryEnabled",t),this.igoSearchPointerSummaryEnabled=t}getControlsOffsetY(){return this.expansionPanelExpanded?this.workspaceMaximize$.value?"firstRowFromBottom-expanded-maximized":"firstRowFromBottom-expanded":"firstRowFromBottom"}readQueryParams(){this.route.queryParams.subscribe(t=>{this.routeParams=t,this.readToolParams(),this.readSearchParams(),this.readFocusFirst(),this.computeZoomToExtent()})}readLanguageParam(t){t.lang&&(this.authService.languageForce=!0,this.languageService.setLanguage(t.lang))}computeZoomToExtent(){if(this.routeParams.zoomExtent){const t=this.routeParams.zoomExtent.split(","),o=oe.$A(t,"EPSG:4326",this.map.projection);this.map.viewController.zoomToExtent(o)}}computeFocusFirst(){setTimeout(()=>{const t=document.getElementsByTagName("igo-search-results-item").item(0);t&&t.click()},1)}readFocusFirst(){if("1"===this.routeParams.sf&&this.termDefinedInUrl){const t=this.searchStore.stateView.all$().pipe((0,I.n)(o=>0===o.length),(0,U.b)(1e3),(0,_e.q)(1)).subscribe(o=>{t.unsubscribe(),o.length&&!this.termDefinedInUrlTriggered&&(this.computeFocusFirst(),this.termDefinedInUrlTriggered=!0)})}}readSearchParams(){if(this.routeParams.search){if(this.termDefinedInUrl=!0,"1"===this.routeParams.exactMatch&&this.searchState.activateCustomFilterTermStrategy(),this.routeParams.search&&!this.routeParams.zoom&&"1"!==this.routeParams.sf){const t=this.searchStore.stateView.all$().pipe((0,I.n)(o=>0===o.length),(0,U.b)(500),(0,_e.q)(1)).subscribe(o=>{t.unsubscribe();const n=o.filter(s=>s.entity.meta.dataType===r.D97).map(s=>(new Ce.Z).readFeature(s.entity.data,{dataProjection:s.entity.data.projection,featureProjection:this.map.projection})),i=(0,r.HgW)(this.map,n);this.map.viewController.zoomToExtent(i)})}this.searchBarTerm=this.routeParams.search}"1"===this.routeParams.searchGeom&&this.searchState.searchResultsGeometryEnabled$.next(!0)}readToolParams(){if(this.routeParams.tool&&this.matDialogRef$.pipe((0,I.n)(t=>void 0!==t),(0,he.P)()).subscribe(t=>{t||this.toolbox.activateTool(this.routeParams.tool)}),"1"===this.routeParams.sidenav&&setTimeout(()=>{this.openSidenav()},250),this.routeParams.routing){let t=!1;const o=this.routeParams.routing.split(";"),n=this.routeParams.routingOptions;let i;n&&(i=parseInt(n.split("result:")[1],10)),this.directionState.stopsStore.storeInitialized$.pipe((0,I.n)(s=>!s),(0,he.P)()).subscribe(s=>{s&&!t&&(t=!0,o.map((l,d)=>{d>1&&(0,r.yLv)(this.directionState.stopsStore)}),setTimeout(()=>{o.map((l,d)=>{const m=this.directionState.stopsStore.all().find(f=>f.position===d);m.text=l,m.coordinates=l.split(","),this.directionState.stopsStore.update(m)})},1.25*this.directionState.debounceTime))}),this.directionState.routesFeatureStore.count$.pipe((0,I.n)(s=>s<1),(0,he.P)()).subscribe(s=>{s>=1&&this.directionState.zoomToActiveRoute$.next()}),this.directionState.routesFeatureStore.count$.pipe((0,I.n)(s=>s<2),(0,he.P)()).subscribe(()=>{i&&(this.directionState.routesFeatureStore.entities$.value.map(s=>s.properties.active=!1),this.directionState.routesFeatureStore.entities$.value[i].properties.active=!0,this.directionState.zoomToActiveRoute$.next())})}}readLayersQueryParams(t){this.readLayersQueryParamsByType(t,"wms"),this.readLayersQueryParamsByType(t,"wmts"),this.readLayersQueryParamsByType(t,"arcgisrest"),this.readLayersQueryParamsByType(t,"imagearcgisrest"),this.readLayersQueryParamsByType(t,"tilearcgisrest"),this.readVectorQueryParams(t)}getQueryParam(t,o){let n;return o.includes("?")&&(n=new ye.LE({fromString:o.split("?")[1]}).get(t)),n}readLayersQueryParamsByType(t,o){let n,i;switch(o){case"wms":(t.layers||t.wmsLayers)&&t.wmsUrl&&(i="wmsUrl",n=t.wmsLayers?"wmsLayers":"layers");break;case"wmts":t.wmtsLayers&&t.wmtsUrl&&(i="wmtsUrl",n="wmtsLayers");break;case"arcgisrest":t.arcgisLayers&&t.arcgisUrl&&(i="arcgisUrl",n="arcgisLayers");break;case"imagearcgisrest":t.iarcgisLayers&&t.iarcgisUrl&&(i="iarcgisUrl",n="iarcgisLayers");break;case"tilearcgisrest":t.tarcgisLayers&&t.tarcgisUrl&&(i="tarcgisUrl",n="tarcgisLayers")}if(!n||!i)return;const s=t[n].split("),("),l=t[i].split(",");let d=0;l.forEach(m=>{let f=m;const b=this.getQueryParam("VERSION",f)||this.getQueryParam("version",f)||void 0;b&&(f=f.replace("VERSION="+b,"").replace("version="+b,"")),this.extractLayersByService(s[d]).forEach(x=>{const _=x.split(":igoz"),A=ge.gb.removeUndefined({type:o,url:f,layer:_[0],params:"wms"===o?{LAYERS:_[0]}:void 0}),ve=(0,r.lZj)(A),Se=this.computeLayerVisibilityFromUrl(t,ve);this.addLayerFromURL(f,_[0],o,b,Se,_[1]?parseInt(_[1],10):void 0)}),d+=1})}readVectorQueryParams(t){if(t.vector){const o=t.vector,n=o.lastIndexOf("/"),i=o.slice(n+1,o.length);this.http.get(`${o}`,{responseType:"blob"}).subscribe(s=>{const l=new File([s],i,{type:s.type,lastModified:Date.now()});this.importService.import(l).subscribe(d=>this.onFileImportSuccess(l,d),d=>this.onFileImportError(l,d))})}}onFileImportSuccess(t,o){(0,r.xrF)(t,o,this.map,this.messageService,this.languageService)}onFileImportError(t,o){(0,r.jDn)(t,o,this.messageService,this.languageService)}extractLayersByService(t){let o=t;return o=o.startsWith("(")?o.substr(1):o,o=o.endsWith(")")?o.slice(0,-1):o,o.split(",")}addLayerFromURL(t,o,n,i,s=!0,l){if(!this.contextLoaded)return;const d={optionsFromCapabilities:!0,optionsFromApi:!0,crossOrigin:!0,type:n,url:t},m="arcgisrest"===n||"imagearcgisrest"===n||"tilearcgisrest"===n;let f={version:"wmts"===n?"1.0.0":void 0,queryable:!!m,queryFormat:m?"esrijson":void 0,layer:o};"wms"===n&&(f={params:{LAYERS:o,VERSION:i}}),f=ge.gb.removeUndefined(Object.assign({},f,d)),this.addedLayers$$.push(this.layerService.createAsyncLayer({zIndex:l,visible:s,sourceOptions:f}).subscribe(b=>{this.map.addLayer(b)}))}computeLayerVisibilityFromUrl(t,o){const n=t;let i=!0;if(!n||!o)return i;let s="",l="",d=[],m=[];return n.visiblelayers&&(s=n.visiblelayers),n.invisiblelayers&&(l=n.invisiblelayers),"*"===s&&(i=!0),"*"===l&&(i=!1),d=s.split(","),m=l.split(","),(d.indexOf(o)>-1||d.indexOf(o.toString())>-1)&&(i=!0),(m.indexOf(o)>-1||m.indexOf(o.toString())>-1)&&(i=!1),i}}Q.\u0275fac=function(t){return new(t||Q)(e.Y36(C.gz),e.Y36(v.gV),e.Y36(Ue.e8),e.Y36(p.yJ),e.Y36(r.ITu),e.Y36(r.LvN),e.Y36(r.neU),e.Y36(v.sz),e.Y36(v.U5),e.Y36(v.po),e.Y36(v.Tb),e.Y36(v.EH),e.Y36(r.gS3),e.Y36(p.E4),e.Y36(r.Y5R),e.Y36(ye.eN),e.Y36(p.TS),e.Y36(p.ez),e.Y36(O.uw),e.Y36(p.V1),e.Y36(v.Nw),e.Y36(O.uw),e.Y36(we.Yg),e.Y36(M))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-portal"]],viewQuery:function(t,o){if(1&t&&(e.Gf(it,7,e.SBq),e.Gf(at,7,e.SBq)),2&t){let n;e.iGM(n=e.CRH())&&(o.mapBrowser=n.first),e.iGM(n=e.CRH())&&(o.searchBar=n.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["position","end"],[3,"shown","click"],["id","scaleLine"],["id","searchDesktop",4,"ngIf"],["igoMapContext","","igoLayerContext","","igoDropGeoFile","","igoHoverFeature","",3,"map","igoHoverFeatureEnabled","ngClass"],["mapBrowser",""],[3,"ngClass","map","useStaticIcon"],["id","map-buttons",3,"ngClass"],["color","primary",3,"map",4,"ngIf"],["color","primary",3,"map"],["color","primary",3,"showIfNoRotation","map"],[3,"map",4,"ngIf"],["id","searchDesktop"],[3,"sidenavOpened","openSidenav",4,"ngIf"],["appearance","outline","searchIcon","magnify","matTooltipShowDelay","500","tooltip-position","after","color","primary",3,"matTooltip","searchSettings","store","termSplitter","pointerSummaryStatus","searchTermChange","search","clearFeature","searchSettingsChange",4,"ngIf"],["id","scaleLine",4,"ngIf"],[3,"map","opened","openedChange","toolChange"],[3,"sidenavOpened","openSidenav"],["appearance","outline","searchIcon","magnify","matTooltipShowDelay","500","tooltip-position","after","color","primary",3,"matTooltip","searchSettings","store","termSplitter","pointerSummaryStatus","searchTermChange","search","clearFeature","searchSettingsChange"],["searchbar",""],[3,"map"]],template:function(t,o){1&t&&e.YNc(0,xt,17,28,"mat-sidenav-container",0),2&t&&e.Q6J("ngIf",!o.hasToolbox)},dependencies:[g.mk,g.O5,T.gM,r.ExE,r.PUQ,r.u$Y,r.fwr,r.AIr,r.Ej2,r.pyf,R.b3,R.mH,ne,D,r.NBD,q.TM,q.Rh,r.V$T,ie,ae,se,u.qv,g.Ov,z.X$],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:block}mat-icon.disabled[_ngcontent-%COMP%]{color:#00000061}mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;z-index:5;display:inline;display:initial}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav-content[_ngcontent-%COMP%]{z-index:auto}}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}igo-search-bar[_ngcontent-%COMP%]{background-color:#fff;font-size:16px;position:absolute;top:16px;z-index:4;height:40px;margin:0 4px}igo-search-bar[_ngcontent-%COMP%]{width:360px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-search-bar[_ngcontent-%COMP%]{width:calc(100% - 92px);max-width:360px}}igo-search-bar[_ngcontent-%COMP%], igo-search-results[_ngcontent-%COMP%]   igo-list[_ngcontent-%COMP%], .baselayers[_ngcontent-%COMP%]{left:16px!important}  .baselayers-pushed{left:404px!important;animation-duration:3s;visibility:visible;opacity:1;opacity:0;animation:fadeIn .1s;animation-delay:0s;animation-fill-mode:forwards}.igo-baselayers-switcher-mobile[_ngcontent-%COMP%]{bottom:48px!important;left:4px}.igo-baselayers-switcher-mobile[_ngcontent-%COMP%]{bottom:48px!important}  igo-search-bar{height:100%}igo-search-bar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff;height:40px;width:40px}  .search-bar-buttons{height:100%;margin-top:.25em;background:#4E5662}  igo-search-bar .mat-form-field-outline-end,   igo-search-bar .mat-form-field-outline-start{border-color:#4e5662;height:40px!important}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-outline{top:0}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-wrapper,   .search-bar-buttons{margin-top:0}  .igo-search-bar-container{height:40px!important}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-infix input{line-height:40px;vertical-align:middle;border-top:0;padding:0;margin-top:0}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-infix{padding:0;border-top:0!important}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-wrapper, .search-bar-buttons[_ngcontent-%COMP%],   igo-search-bar .mat-form-field-outline-end,   igo-search-bar .mat-form-field-outline-start{height:40px;padding:0;margin-top:0}  igo-search-bar .mat-form-field-appearance-outline .mat-form-field-flex{padding:0 8px;margin-top:0!important;height:40px}  .igo-search-bar-container>mat-form-field{padding:0!important}  igo-search-bar .mat-form-field-outline-start{border-radius:0!important}  igo-search-bar .mat-form-field-outline-end{border-radius:0!important}  .search-bar-buttons .mat-icon{width:40px!important;display:inline-block!important}app-bottomresult[_ngcontent-%COMP%]{position:fixed;display:block;bottom:0;z-index:100}igo-map-browser[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:block}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution{left:50px;bottom:4px;text-align:left;padding:0;margin-right:90px;background-color:#fff0;width:calc(100% - 500px)}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-logo-only{height:inherit}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed{background:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed button{transform:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution button{transform:rotate(180deg);background-color:#fff;cursor:pointer}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-uncollapsible{height:auto}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution ul{background-color:#fff9;padding:2px .5em}igo-map-browser[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{position:absolute;width:100%;left:0;bottom:0}igo-map-browser.toast-offset-scale-line[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-scale-line{bottom:50px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-map-browser.toast-offset-attribution[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-attribution{bottom:50px}}  .ol-scale-line-inner{border:1px solid black;color:#000;border-top:none;order:1}  div.ol-scale-line{position:absolute!important;display:block;top:20px!important;bottom:auto;bottom:initial;left:10px!important;background:transparent none repeat 0 0 / auto auto padding-box border-box scroll!important;background:initial!important;color:#000;z-index:5!important;transform:none!important;transform:initial!important}  .olControlScaleLine{background:white;padding:5px;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=85)";-moz-opacity:.85;opacity:.85}.map-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px;z-index:10;position:absolute;bottom:0;max-height:50%;right:4px}.map-buttons-mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:5px;z-index:10;position:absolute;bottom:48px!important;max-height:50%;right:4px}.igo-zoom-button-container[_ngcontent-%COMP%], button[_ngcontent-%COMP%], app-legend-button[_ngcontent-%COMP%], igo-zoom-button[_ngcontent-%COMP%], igo-offline-button[_ngcontent-%COMP%], igo-geolocate-button[_ngcontent-%COMP%], igo-home-extent-button[_ngcontent-%COMP%], #app-legend-button-dialog[_ngcontent-%COMP%], mat-dialog-container[_ngcontent-%COMP%]   app-legend-button-dialog[_ngcontent-%COMP%], app-legend-button-dialog[_ngcontent-%COMP%]{margin-top:4px!important;position:static!important;position:initial!important;bottom:auto!important;bottom:initial!important;margin-left:auto;align-self:flex-end;margin-top:auto}  igo-zoom-button{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-zoom-button[_ngcontent-%COMP%]{display:none}}  .map-hasfooter{height:calc(100% - 29px)!important}  #legend-button-dialog-container{top:76px;max-height:calc(100% - 201px)}@media (min-width: 768px){  #legend-button-dialog-container{top:76px;max-height:calc(100% - 281px)}}'],data:{animation:[function Ae(){return[(0,h.X$)("controlsOffsetY",[(0,h.SB)("close",(0,h.oB)({})),(0,h.SB)("firstRowFromBottom",(0,h.oB)({bottom:"5px"})),(0,h.SB)("firstRowFromBottom-expanded",(0,h.oB)({bottom:"5px"})),(0,h.SB)("firstRowFromBottom-expanded-maximized",(0,h.oB)({bottom:"500px"})),(0,h.SB)("secondRowFromBottom",(0,h.oB)({bottom:"47px"})),(0,h.SB)("thirdRowFromBottom",(0,h.oB)({bottom:"104px"})),(0,h.SB)("",(0,h.oB)({bottom:"calc(285px)"})),(0,h.SB)("secondRowFromBottom-expanded",(0,h.oB)({bottom:"calc(285px + 52px)"})),(0,h.SB)("thirdRowFromBottom-expanded",(0,h.oB)({bottom:"calc(285px + 104px)"})),(0,h.eR)("* => *",(0,h.jt)("200ms"))])]}(),function $e(){return(0,h.X$)("controlStateX",[(0,h.SB)("left",(0,h.oB)({left:"60px"})),(0,h.SB)("right",(0,h.oB)({left:"465px"})),(0,h.eR)("* => *",(0,h.jt)("200ms"))])}(),function Le(){return(0,h.X$)("controlStateY",[(0,h.SB)("close",(0,h.oB)({})),(0,h.SB)("firstRowFromBottom",(0,h.oB)({bottom:"2px","margin-left":"0px"})),(0,h.SB)("firstRowFromBottom-expanded",(0,h.oB)({bottom:"285px","margin-left":"-55px"})),(0,h.SB)("firstRowFromBottom-expanded-maximized",(0,h.oB)({bottom:"500px","margin-left":"-55px"})),(0,h.eR)("* => *",(0,h.jt)("200ms"))])}()]}});class re{constructor(t){this.configService=t,this.hasHeader=!0,this.hasHeader=void 0!==this.configService.getConfig("header.hasHeader")&&this.configService.getConfig("header.hasHeader")}}re.\u0275fac=function(t){return new(t||re)(e.Y36(p.E4))},re.\u0275cmp=e.Xpm({type:re,selectors:[["app-map"]],decls:1,vars:1,consts:[[3,"ngClass"]],template:function(t,o){1&t&&e._UZ(0,"app-portal",0),2&t&&e.Q6J("ngClass",o.hasHeader?"portal-hasHeader-hasMenu":"portal-hasMenu")},dependencies:[g.mk,Q],styles:[".portal-hasMenu{height:calc(100% - 40px)!important}  .portal-hasHeader-hasMenu{height:calc(100% - 112px)!important}  #legend-button-dialog-container{top:116px!important;max-height:calc(100% - 241px)!important}@media (min-width: 768px){  .portal-hasMenu{height:calc(100% - 72px)!important}  .portal-hasHeader-hasMenu{height:calc(100% - 144px)!important}  #legend-button-dialog-container{top:148px!important;max-height:calc(100% - 353px)!important}}"]});const _t=[{path:"",component:K},{path:"carte",component:re},{path:"en-savoir-plus",component:ee}];class E{}E.\u0275fac=function(t){return new(t||E)},E.\u0275mod=e.oAB({type:E}),E.\u0275inj=e.cJS({imports:[C.Bz.forRoot(_t,{onSameUrlNavigation:"reload",relativeLinkResolution:"legacy"}),C.Bz]});class ${}$.\u0275fac=function(t){return new(t||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[g.ez,p.yR,de.g0,E]});class j{}j.\u0275fac=function(t){return new(t||j)},j.\u0275mod=e.oAB({type:j}),j.\u0275inj=e.cJS({imports:[g.ez,p.yR]});class H{}H.\u0275fac=function(t){return new(t||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[g.ez]});class Y{}Y.\u0275fac=function(t){return new(t||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[g.ez,F.Ps,k.ot,q.SJ,T.AV,p.yR,u.Am,u.O4,R.Zy,u.HL,r.Ud7,u.cQ]});class N{}N.\u0275fac=function(t){return new(t||N)},N.\u0275mod=e.oAB({type:N,bootstrap:[D]}),N.\u0275inj=e.cJS({providers:[{provide:"app-legend-button-dialog",useValue:G},{provide:O.so,useValue:{}},{provide:O.WI,useValue:{}}],imports:[F.Ps,O.Is,r.t1T,r.FIR,k.ot,F.Ps]});var yt=c(70178);class J{}J.\u0275fac=function(t){return new(t||J)},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({imports:[g.ez,F.Ps,yt.g,T.AV,k.ot,p.yR,r.Ud7,r.TxX,u.O4,u.Am,r.nob,u.k_]});var Ct=c(11961);class V{}V.\u0275fac=function(t){return new(t||V)},V.\u0275mod=e.oAB({type:V}),V.\u0275inj=e.cJS({imports:[g.ez,F.Ps,k.ot,q.SJ,T.AV,p.yR,u.Am,u.O4,R.Zy,u.HL,r.Ud7,Ct.QW,p.zZ,r.FIR,r.TxX,u.gQ,u.qL,v.uL,r.TxX.forRoot(),J,fe.To]});class L{}L.\u0275fac=function(t){return new(t||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({providers:[(0,r.jxb)(),(0,r.cmn)(),(0,r.ZsY)(),(0,r.PIH)(),(0,r.ZsY)(),(0,r.PIH)(),(0,r.jxb)(),(0,r.c43)(),(0,r.MG6)(),(0,r.HAL)(),r.IDv,(0,r.pCg)(),(0,r.hqu)(),(0,r.XBb)(),r.oDG,r.S3c,(0,r.rQG)({path:"./assets/list-style.json"})],imports:[g.ez,T.AV,k.ot,F.Ps,p.PV,r.Ud7,r.FIR,u.mD,u.O4,v.fZ,R.Zy,R.jm,j,N,r.t1T,u.h5,r.Jpu,r.y1m.forRoot(),r.TxX.forRoot(),R.jm,q.SJ,O.Is,u.AP,r.ybB,H,Y,V,u.Am,u.BQ,u.qL,u.HL,u.gr,u.t3,v.NX,v.uL,v.BQ,v.qk]});class X{}X.\u0275fac=function(t){return new(t||X)},X.\u0275mod=e.oAB({type:X}),X.\u0275inj=e.cJS({imports:[g.ez,E,L,$,j,de.g0,E]});const be={production:!0,igo:{app:{forceCoordsNA:!1,pwa:{enabled:!1,promote:!1}},language:{prefix:["./locale/","./particular/locale/"]},searchSources:{nominatim:{available:!1},storedqueries:{enabled:!1,available:!1},icherche:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche",order:2,params:{limit:"5"}},coordinatesreverse:{showInPointerSummary:!0},icherchereverse:{showInPointerSummary:!0,searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/terrapi",order:3,enabled:!0},ilayer:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche/layers",order:4,params:{limit:"3"}}},projections:[{code:"EPSG:32198",alias:"Quebec Lambert",def:"+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-799574,45802,891595.4,1849567.5]},{code:"EPSG:3798",alias:"MTQ Lambert",def:"+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[31796.5834,158846.2231,1813323.4284,2141241.0978]}],searchOverlayStyle:{base:{markerColor:"#5ed0fb",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#5ed0fb",fillOpacity:.2,strokeColor:"#5ed0fb",strokeOpacity:.7,strokeWidth:2},focus:{markerColor:"#5ed0fb",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#5ed0fb",fillOpacity:.3,strokeColor:"#DFF7FF",strokeOpacity:1,strokeWidth:2},selection:{markerColor:"#00a1de",markerOpacity:1,markerOutlineColor:"#ffffff",fillColor:"#00a1de",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:1,strokeWidth:2}},queryOverlayStyle:{base:{markerColor:"#5ed0fb",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#5ed0fb",fillOpacity:.2,strokeColor:"#5ed0fb",strokeOpacity:.7,strokeWidth:2},focus:{markerColor:"#5ed0fb",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#5ed0fb",fillOpacity:.3,strokeColor:"#DFF7FF",strokeOpacity:1,strokeWidth:2},selection:{markerColor:"#00a1de",markerOpacity:1,markerOutlineColor:"#ffffff",fillColor:"#00a1de",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:1,strokeWidth:2}}}};class le{constructor(t,o){this.configService=t,this.languageService=o,this.computeHeader()}computeHeader(){this.headerLogo=this.configService.getConfig("header.logo"),this.headerLogoPrint=this.configService.getConfig("header.logoPrint")}}le.\u0275fac=function(t){return new(t||le)(e.Y36(p.E4),e.Y36(p.TS))},le.\u0275cmp=e.Xpm({type:le,selectors:[["app-header"]],decls:21,vars:14,consts:[["role","banner","color","primary",1,"banner"],[1,"container"],[1,"row"],[1,"col-6","col-md-10","d-flex","flex-wrap","align-items-center","zone-logo-title"],["tabindex","5","routerLink","",1,"logo"],["id","header-logo","alt","Logo",3,"src"],["id","header-logo-print","alt","Logo","width","199","height","60",3,"src"],["lang","fr","id","title-desktop",1,"zone-title","d-none","d-md-block"],[1,"col-6","col-md-2","d-flex","justify-content-end","zone-links"],[1,"nav","flex-column"],["rel","noopener noreferrer","alt","('header.contactUsUrl' | translate)","target","_blank",3,"href"],["lang","fr","id","title-mobile",1,"zone-title","d-md-none","col-12"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"img",5),e.qZA(),e._UZ(6,"img",6),e.TgZ(7,"p",7),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",8)(11,"ul",9)(12,"li")(13,"a",10),e.ALo(14,"translate"),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"p",11)(18,"a"),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()),2&t&&(e.xp6(5),e.s9C("src",o.headerLogo,e.LSH),e.xp6(1),e.s9C("src",o.headerLogoPrint,e.LSH),e.xp6(2),e.Oqu(e.lcZ(9,6,"header.title")),e.xp6(5),e.s9C("href",e.lcZ(14,8,"header.contactUsUrl"),e.LSH),e.xp6(2),e.Oqu(e.lcZ(16,10,"header.contactUs")),e.xp6(4),e.Oqu(e.lcZ(20,12,"header.title")))},dependencies:[de.Ye,C.yS,z.X$],styles:[".portal-with-header{height:calc(100% - 72px)!important}@media screen and (min-width: 768px){  .portal-with-header{height:calc(100% - 72px)!important}}[_ngcontent-%COMP%]:root{--breakpoint-sm: 320px;--breakpoint-md: 768px;--breakpoint-lg: 960px;--breakpoint-xl: 1024px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0!important;width:100%;font-size:16px;font-family:Open sans,sans-serif}@media (min-width: 1280px) and (orientation: landscape){body[_ngcontent-%COMP%]{margin:0!important}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], a[_ngcontent-%COMP%], header[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]{margin:0;padding:0;border:0;vertical-align:baseline}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Open sans,sans-serif}.col-6[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%]{position:relative;width:100%}.col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.container[_ngcontent-%COMP%]{width:100%;margin-right:auto;margin-left:auto}.row[_ngcontent-%COMP%]{-ms-display:flex;display:flex;flex-wrap:wrap;height:100%;width:98%;align-content:center;margin:auto}.col-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:700;color:#095797!important}a[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.d-none[_ngcontent-%COMP%]{display:none}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column!important}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.align-items-center[_ngcontent-%COMP%]{align-items:center!important}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end!important}d-md-none[_ngcontent-%COMP%]{display:none}.align-self-end[_ngcontent-%COMP%]{align-self:flex-end!important}.banner[_ngcontent-%COMP%]{display:flex;width:100%;height:72px;box-sizing:border-box;font-family:Roboto,sans-serif;margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.zone-logo-title[_ngcontent-%COMP%]{padding:.5rem 1.1rem .5rem 0}.zone-title[_ngcontent-%COMP%]{font-size:1rem}.zone-links[_ngcontent-%COMP%]{padding-left:1.1rem;max-width:100%;margin:auto;list-style:none;display:block;color:#fff}#header-logo[_ngcontent-%COMP%]{width:100%;min-width:7rem;max-height:28px}#header-logo-print[_ngcontent-%COMP%]{display:none}.zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font: .8rem/1.2rem roboto,sans-serif;-webkit-font-smoothing:antialiased;text-align:left;flex-wrap:wrap;list-style:none;padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding:0}.zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .zone-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:underline;cursor:pointer}.buttonLanguage[_ngcontent-%COMP%]{background:none;border-style:none;padding:0;font: .8rem/1rem roboto,sans-serif;color:inherit}#title-mobile[_ngcontent-%COMP%]{margin:auto 0;display:block}#title-desktop[_ngcontent-%COMP%]{display:none;color:#fff;margin:auto 0;padding:0}@media screen and (min-width: 576px){.zone-logo-title[_ngcontent-%COMP%], .zone-links[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media screen and (min-width: 768px){.col-md-10[_ngcontent-%COMP%]{flex:0 0 83.33333%;max-width:83.33333%}.zone-links[_ngcontent-%COMP%]{flex:0 0 16.66667%;max-width:16.66667%}}@media screen and (min-width: 824px){#header-logo[_ngcontent-%COMP%]{max-height:39px;padding-right:3.75rem}.banner[_ngcontent-%COMP%]{height:72px}.d-md-block[_ngcontent-%COMP%]{display:block!important}.d-md-none[_ngcontent-%COMP%]{display:none!important}.zone-logo-title[_ngcontent-%COMP%]{flex:0 0 83.33333%;max-width:83.33333%}}"]});const wt=function(){return{exact:!0}};class ce{constructor(){this.color="accent"}}ce.\u0275fac=function(t){return new(t||ce)},ce.\u0275cmp=e.Xpm({type:ce,selectors:[["app-menu"]],decls:15,vars:2,consts:[["color","accent",1,"container","headline"],[1,"col-12","align-self-end"],[1,"navbar"],["href","#menu-left","routerLinkActive","active",1,"nav-link","nav-arrow","left"],[1,"main-nav","slick-track"],["routerLink","/","routerLinkActive","active","id","menu-left",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/carte","routerLinkActive","active",1,"nav-link"],["routerLink","/en-savoir-plus","id","menu-right","routerLinkActive","active",1,"nav-link"],["color","accent","href","#menu-right","routerLinkActive","active",1,"nav-link","nav-arrow","right"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"nav",2)(3,"a",3),e._uU(4,"\u276e"),e.qZA(),e.TgZ(5,"div",4)(6,"a",5),e._uU(7,"Accueil"),e.qZA(),e.TgZ(8,"a",6),e._uU(9,"Carte"),e.qZA(),e.TgZ(10,"a",7),e._uU(11,"En savoir plus"),e.qZA()(),e.TgZ(12,"a",8),e._uU(13,"\u276f"),e.qZA()()()(),e._UZ(14,"router-outlet")),2&t&&(e.xp6(6),e.Q6J("routerLinkActiveOptions",e.DdM(1,wt)))},dependencies:[C.lC,C.yS,C.Od,de.Ye],styles:['.navbar[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:flex-end;flex-direction:row;flex-flow:row nowrap;justify-content:flex-start;height:40px;width:100%;margin:0 auto;padding:0}.nav-link[_ngcontent-%COMP%]{display:block;padding:0 2rem;text-decoration:none;font-family:Open sans,sans-serif;margin-right:.4rem;padding:0 0 1.6rem}a.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;letter-spacing:0;font-size:1.1rem;padding:0 .5rem 0rem!important}a.nav-link[_ngcontent-%COMP%]:focus, a.nav-link.active[_ngcontent-%COMP%]{content:"";display:block;margin:0;border-bottom:4px solid #c5cad2;padding-bottom:calc(.6rem - 4px)}.active[_ngcontent-%COMP%]{font-weight:600!important}.main-nav[_ngcontent-%COMP%]{display:block;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;width:85%;margin:0 auto}.headline[_ngcontent-%COMP%]{padding:0}div.slick-track[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;display:flex}.navbar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.nav-arrow[_ngcontent-%COMP%]{color:#f09686!important;font-weight:1000;position:absolute;z-index:100;background-color:#223654c5;margin:0;bottom:5px}.right[_ngcontent-%COMP%]{right:0;padding:5px 5px 5px 15px!important}.left[_ngcontent-%COMP%]{left:0;padding:5px 15px 5px 5px!important}@media (min-width: 400px){.nav-arrow[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{width:98%}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{height:72px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem 1.2rem!important}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{padding-bottom:calc(1rem - 4px)!important}}']});const Ot=["searchBar"];function Pt(a,t){1&a&&e._UZ(0,"app-header",null,3)}function Mt(a,t){1&a&&e._UZ(0,"app-menu")}function Tt(a,t){if(1&a&&e._UZ(0,"app-portal",4),2&a){const o=e.oxw();e.Q6J("ngClass",o.hasHeader?"portal-hasHeader":"portal")}}class pe{constructor(t,o,n,i,s,l,d){this.languageService=t,this.configService=o,this.renderer=n,this.titleService=i,this.metaService=s,this.messageService=l,this.pwaService=d,this.themeClass="qcca-theme",this.hasHeader=!0,this.hasFooter=!0,this.hasMenu=!1,this.pwaService.checkForUpdates(),this.languageService.translate.getTranslation(this.languageService.getLanguage()).subscribe(),this.readTitleConfig(),this.readThemeConfig(),this.readDescriptionConfig(),this.detectOldBrowser(),this.hasHeader=void 0!==this.configService.getConfig("header.hasHeader")&&this.configService.getConfig("header.hasHeader"),this.hasFooter=void 0!==this.configService.getConfig("hasFooter")&&this.configService.getConfig("hasFooter"),this.hasMenu=void 0!==this.configService.getConfig("hasMenu")&&this.configService.getConfig("hasMenu")}readTitleConfig(){this.languageService.translate.get(this.configService.getConfig("title")).subscribe(t=>{t&&(this.titleService.setTitle(t),this.metaService.addTag({name:"title",content:t}))})}readThemeConfig(){const t=this.configService.getConfig("theme")||this.themeClass;t&&this.renderer.addClass(document.body,t)}readDescriptionConfig(){const t=this.configService.getConfig("description");t&&this.metaService.addTag({name:"description",content:t})}detectOldBrowser(){if(ge.WE.satisfies({ie:"<=11",chrome:"<64",firefox:"<60",safari:"<=11"})){const o=this.languageService.translate,n=o.get("oldBrowser.title"),i=o.get("oldBrowser.message");(0,me.$)(n,i).pipe((0,Te.U)(([s,l])=>({title:s,message:l}))).subscribe(s=>this.messageService.alert(s.message,s.title,{timeOut:15e3}))}}}pe.\u0275fac=function(t){return new(t||pe)(e.Y36(p.TS),e.Y36(p.E4),e.Y36(e.Qsj),e.Y36(y.Dx),e.Y36(y.h_),e.Y36(p.ez),e.Y36(M))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-root"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ot,7,e.SBq),2&t){let n;e.iGM(n=e.CRH())&&(o.searchBar=n.first)}},decls:4,vars:3,consts:[["igoSpinnerActivity",""],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["header",""],[3,"ngClass"]],template:function(t,o){1&t&&(e._UZ(0,"igo-spinner",0),e.YNc(1,Pt,2,0,"app-header",1),e.YNc(2,Mt,1,0,"app-menu",1),e.YNc(3,Tt,1,1,"app-portal",2)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.hasHeader),e.xp6(1),e.Q6J("ngIf",o.hasMenu),e.xp6(1),e.Q6J("ngIf",!o.hasMenu))},dependencies:[g.mk,g.O5,u.Ft,u.OR,Q,le,ce],styles:["[_nghost-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif}igo-message-center[_ngcontent-%COMP%]     simple-notifications   div.simple-notification-wrapper{right:10px}  .portal-hasHeader{height:calc(100% - 72px)!important;display:block}  .portal{height:100%}@media (min-width: 768px){  .portal-hasHeader{height:calc(100% - 72px)!important;display:block}}igo-spinner[_ngcontent-%COMP%]{position:absolute;top:76px!important;right:4px;z-index:100}  .mat-tooltip-hide{display:none!important}  .mat-form-field-suffix   mat-icon{width:auto!important;height:-webkit-fill-available!important}spinner-with-legend-dialog[_ngcontent-%COMP%]{position:absolute;top:76px!important;right:345px;z-index:100}@media (min-width: 768px){igo-spinner[_ngcontent-%COMP%]{top:76px!important;right:4px;z-index:100}spinner-with-legend-dialog[_ngcontent-%COMP%]{top:76px!important;right:345px!important;z-index:100}}"]});let Re=new e.OlP("Config Loader");class W{}W.\u0275fac=function(t){return new(t||W)},W.\u0275mod=e.oAB({type:W,bootstrap:[pe]}),W.\u0275inj=e.cJS({providers:[(0,p.TQ)({default:be.igo,path:"./config/config.json"}),{provide:Re,useFactory:function kt(a,t){const o=a.load(t);return o instanceof Promise?o:Promise.resolve()},deps:[p.E4,p.ce]},p.MZ,{provide:e.ip1,useFactory:function Ft(a,t,o){return()=>new Promise(n=>{a.then(()=>{const i=[t.translate.getTranslation(t.getLanguage())];Promise.all(i).then(()=>{const s=[o.initPwaPrompt()];Promise.all(s).then(()=>n())})})})},deps:[Re,p.TS,M],multi:!0},(0,r.rQG)({path:"./assets/list-style.json"}),{provide:T.Jm,useValue:{showDelay:500,hideDelay:0,touchendHideDelay:0,disableTooltipInteractivity:!0}}],imports:[y.b2,P.PW,C.Bz.forRoot([]),p.u4.forRoot(),p.zZ,u.d3,u.Po,L,y.t6,$,j,X,Oe.Wr.register("ngsw-worker.js",{enabled:be.igo.app.pwa.enabled,registrationStrategy:"registerWithDelay:5000"})]});c(15977);be.production&&(0,e.G48)(),y.q6().bootstrapModule(W).catch(a=>console.log(a))},46700:(Z,ue,c)=>{var y={"./af":58685,"./af.js":58685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":32614,"./ar-kw.js":32614,"./ar-ly":18630,"./ar-ly.js":18630,"./ar-ma":28674,"./ar-ma.js":28674,"./ar-sa":49032,"./ar-sa.js":49032,"./ar-tn":24730,"./ar-tn.js":24730,"./ar.js":254,"./az":53052,"./az.js":53052,"./be":60150,"./be.js":60150,"./bg":63069,"./bg.js":63069,"./bm":13466,"./bm.js":13466,"./bn":18516,"./bn-bd":90557,"./bn-bd.js":90557,"./bn.js":18516,"./bo":26273,"./bo.js":26273,"./br":9588,"./br.js":9588,"./bs":19815,"./bs.js":19815,"./ca":83331,"./ca.js":83331,"./cs":21320,"./cs.js":21320,"./cv":72219,"./cv.js":72219,"./cy":68266,"./cy.js":68266,"./da":66427,"./da.js":66427,"./de":67435,"./de-at":52871,"./de-at.js":52871,"./de-ch":12994,"./de-ch.js":12994,"./de.js":67435,"./dv":82357,"./dv.js":82357,"./el":95649,"./el.js":95649,"./en-au":59961,"./en-au.js":59961,"./en-ca":19878,"./en-ca.js":19878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":70864,"./en-ie.js":70864,"./en-il":91579,"./en-il.js":91579,"./en-in":30940,"./en-in.js":30940,"./en-nz":16181,"./en-nz.js":16181,"./en-sg":44301,"./en-sg.js":44301,"./eo":85291,"./eo.js":85291,"./es":54529,"./es-do":53764,"./es-do.js":53764,"./es-mx":12584,"./es-mx.js":12584,"./es-us":63425,"./es-us.js":63425,"./es.js":54529,"./et":35203,"./et.js":35203,"./eu":70678,"./eu.js":70678,"./fa":83483,"./fa.js":83483,"./fi":96262,"./fi.js":96262,"./fil":52521,"./fil.js":52521,"./fo":34555,"./fo.js":34555,"./fr":63131,"./fr-ca":88239,"./fr-ca.js":88239,"./fr-ch":21702,"./fr-ch.js":21702,"./fr.js":63131,"./fy":267,"./fy.js":267,"./ga":23821,"./ga.js":23821,"./gd":71753,"./gd.js":71753,"./gl":4074,"./gl.js":4074,"./gom-deva":92762,"./gom-deva.js":92762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":82809,"./gu.js":82809,"./he":45402,"./he.js":45402,"./hi":315,"./hi.js":315,"./hr":10410,"./hr.js":10410,"./hu":38288,"./hu.js":38288,"./hy-am":67928,"./hy-am.js":67928,"./id":71334,"./id.js":71334,"./is":86959,"./is.js":86959,"./it":34864,"./it-ch":51124,"./it-ch.js":51124,"./it.js":34864,"./ja":36141,"./ja.js":36141,"./jv":29187,"./jv.js":29187,"./ka":42136,"./ka.js":42136,"./kk":94332,"./kk.js":94332,"./km":18607,"./km.js":18607,"./kn":84305,"./kn.js":84305,"./ko":70234,"./ko.js":70234,"./ku":16003,"./ku.js":16003,"./ky":75061,"./ky.js":75061,"./lb":32786,"./lb.js":32786,"./lo":66183,"./lo.js":66183,"./lt":50029,"./lt.js":50029,"./lv":24169,"./lv.js":24169,"./me":68577,"./me.js":68577,"./mi":68177,"./mi.js":68177,"./mk":50337,"./mk.js":50337,"./ml":65260,"./ml.js":65260,"./mn":52325,"./mn.js":52325,"./mr":14695,"./mr.js":14695,"./ms":75334,"./ms-my":37151,"./ms-my.js":37151,"./ms.js":75334,"./mt":63570,"./mt.js":63570,"./my":97963,"./my.js":97963,"./nb":88028,"./nb.js":88028,"./ne":86638,"./ne.js":86638,"./nl":50302,"./nl-be":66782,"./nl-be.js":66782,"./nl.js":50302,"./nn":33501,"./nn.js":33501,"./oc-lnc":50563,"./oc-lnc.js":50563,"./pa-in":50869,"./pa-in.js":50869,"./pl":65302,"./pl.js":65302,"./pt":49687,"./pt-br":74884,"./pt-br.js":74884,"./pt.js":49687,"./ro":79107,"./ro.js":79107,"./ru":33627,"./ru.js":33627,"./sd":30355,"./sd.js":30355,"./se":83427,"./se.js":83427,"./si":11848,"./si.js":11848,"./sk":54590,"./sk.js":54590,"./sl":20184,"./sl.js":20184,"./sq":56361,"./sq.js":56361,"./sr":78965,"./sr-cyrl":81287,"./sr-cyrl.js":81287,"./sr.js":78965,"./ss":25456,"./ss.js":25456,"./sv":70451,"./sv.js":70451,"./sw":77558,"./sw.js":77558,"./ta":51356,"./ta.js":51356,"./te":73693,"./te.js":73693,"./tet":21243,"./tet.js":21243,"./tg":42500,"./tg.js":42500,"./th":55768,"./th.js":55768,"./tk":77761,"./tk.js":77761,"./tl-ph":35780,"./tl-ph.js":35780,"./tlh":29590,"./tlh.js":29590,"./tr":33807,"./tr.js":33807,"./tzl":93857,"./tzl.js":93857,"./tzm":60654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":60654,"./ug-cn":30845,"./ug-cn.js":30845,"./uk":19232,"./uk.js":19232,"./ur":47052,"./ur.js":47052,"./uz":77967,"./uz-latn":32233,"./uz-latn.js":32233,"./uz.js":77967,"./vi":98615,"./vi.js":98615,"./x-pseudo":12320,"./x-pseudo.js":12320,"./yo":31313,"./yo.js":31313,"./zh-cn":64490,"./zh-cn.js":64490,"./zh-hk":55910,"./zh-hk.js":55910,"./zh-mo":98262,"./zh-mo.js":98262,"./zh-tw":44223,"./zh-tw.js":44223};function e(P){var g=C(P);return c(g)}function C(P){if(!c.o(y,P)){var g=new Error("Cannot find module '"+P+"'");throw g.code="MODULE_NOT_FOUND",g}return y[P]}e.keys=function(){return Object.keys(y)},e.resolve=C,Z.exports=e,e.id=46700}},Z=>{Z.O(0,[736],()=>{return y=23226,Z(Z.s=y);var y});Z.O()}]);
//# sourceMappingURL=main.c313aa44da75d9e2.js.map